<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
  <head>
    
    
    <div class="analytics">
        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-177375543-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    </div>
    
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" property="title" content="Devops Monk - Kubernetes practice questions for CKAD exam ?">
    <meta name="description" property="description" content=" - " >
    <title>Devops Monk - Kubernetes practice questions for CKAD exam ? </title>
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Kubernetes practice questions for CKAD exam ?"/>
<meta name="twitter:description" content="Kubernetes is an open-source system for automating deployment, scaling, and management of containerized applications. The CNCF/Linux Foundation offers this performance-based exam which targets the developer aspect of kubernetes skills such as deploying apps, configuring apps, rolling out the application, creating persistent volumes, etc.
Since this exam is performance-based rather than just multiple choice questions just knowing the concepts are not enough, we need a lot of practice before the exam. This article helps you understand, practice and get you ready for the exam."/>

    <meta property="og:title" content="Kubernetes practice questions for CKAD exam ?" />
<meta property="og:description" content="Kubernetes is an open-source system for automating deployment, scaling, and management of containerized applications. The CNCF/Linux Foundation offers this performance-based exam which targets the developer aspect of kubernetes skills such as deploying apps, configuring apps, rolling out the application, creating persistent volumes, etc.
Since this exam is performance-based rather than just multiple choice questions just knowing the concepts are not enough, we need a lot of practice before the exam. This article helps you understand, practice and get you ready for the exam." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://devops-monk.com/2020/07/kubernetes-practice-ckad-exam/" />
<meta property="article:published_time" content="2020-07-19T02:05:05+00:00" />
<meta property="article:modified_time" content="2020-07-19T02:05:05+00:00" />

    <meta itemprop="name" content="Kubernetes practice questions for CKAD exam ?">
<meta itemprop="description" content="Kubernetes is an open-source system for automating deployment, scaling, and management of containerized applications. The CNCF/Linux Foundation offers this performance-based exam which targets the developer aspect of kubernetes skills such as deploying apps, configuring apps, rolling out the application, creating persistent volumes, etc.
Since this exam is performance-based rather than just multiple choice questions just knowing the concepts are not enough, we need a lot of practice before the exam. This article helps you understand, practice and get you ready for the exam.">
<meta itemprop="datePublished" content="2020-07-19T02:05:05+00:00" />
<meta itemprop="dateModified" content="2020-07-19T02:05:05+00:00" />
<meta itemprop="wordCount" content="6349">



<meta itemprop="keywords" content="CKAD,Orchestration,Devops," />


    <link rel='stylesheet' href="/assets/css/custom-fonts.css" type='text/css' media='all'/>

    <link rel='stylesheet' href="/assets/css/style.css" type='text/css' media='all'/>
    <link rel='stylesheet' href="/assets/css/genericons.css" type='text/css' media='all'/>
    <link rel='stylesheet' href="/assets/css/font-awesome.min.css" type='text/css' media='all'/>
    <link rel='stylesheet' href="/assets/css/socicon.css" type='text/css' media='all'/>
    <link rel="stylesheet" href="/assets/css/social-logos/social-logos.css" type="text/css" media="all">
    <link rel='stylesheet' href="/assets/css/jetpack.css" type='text/css' media='all'/>
    <link rel='stylesheet' href="/assets/css/custom-styles.css" type='text/css' media='all'/>

    <script type='text/javascript' src="/assets/js/jquery-1.12.4.min.js"></script>
    <script type='text/javascript' src="/assets/js/html5shiv.min.js"></script>
    <script type='text/javascript' src="/assets/js/navigation.js"></script>

    <link rel="shortcut icon" href="/favicon.png" type="image/x-icon" />
    
</head>
  <body
    class="home blog logged-in admin-bar no-customize-support post-layout-one-column"
  >
    <div id="header-top" class="header-bar-wrap"></div>
    <div id="page" class="hfeed site">
      <a class="skip-link screen-reader-text" href="#content"
        >Skip to content</a
      >
      <header id="masthead" class="site-header clearfix" role="banner">
    <div class="header-main container clearfix">
        <div id="logo" class="site-branding clearfix">
            <h1 class="site-title">
                <a href="/" title="Devops Monk" rel="home">Devops Monk</a>
            </h1>
            <p class="site-description">My Devops Learning Experience</p>
        </div>
        <div class="header-widgets clearfix">
        </div>
    </div>
    <div id="main-navigation-wrap" class="primary-navigation-wrap">
        <nav id="main-navigation" class="primary-navigation navigation container clearfix" role="navigation">
            <ul id="menu-home" class="main-navigation-menu">
                <li id="menu-item-1145" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home menu-item-1145">
                    <a href="/">Home</a>
                </li>
     
                </li>
                <li id="menu-item-1146" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1146">
                    <a href="/contact">Contact</a>
                </li>
            </ul>
        </nav>
    </div>
</header>
      <div id="content" class="site-content container clearfix">
        <section id="primary" class="content-archive content-area">
          
<main id="main" class="site-main" role="main">
<article class="post type-post status-publish format-standard hentry">
    <div class="post-inner-content">
        <header class="entry-header">
    <div class="entry-meta">
        <span class="meta-date">
            <a href="https://devops-monk.com/2020/07/kubernetes-practice-ckad-exam/" rel="bookmark">
                <time class="entry-date published" datetime="2020-07-19T02:05:05">
                July 19, 2020
                </time>
            </a>
        </span>
        <span class="meta-author">
            <span class="author vcard">Abhay</span>
        </span>
    </div>
    <h2 class="entry-title">
        <a href="https://devops-monk.com/2020/07/kubernetes-practice-ckad-exam/" rel="bookmark">
            Kubernetes practice questions for CKAD exam ?
        </a>
    </h2>
    <div>
        
        
        
        <span class="tagcloud post-tags">
            <i class="fa fa-tags"></i>
            
            <a class="tag-cloud-link widget__link widget__link--taglist" href="/tags/ckad/">CKAD</a>
            &nbsp;
            
            <a class="tag-cloud-link widget__link widget__link--taglist" href="/tags/orchestration/">Orchestration</a>
            &nbsp;
            
            <a class="tag-cloud-link widget__link widget__link--taglist" href="/tags/devops/">Devops</a>
            
            
        </span>
        
        
    </div>
</header>

        <div class="entry-content">
            <p>Kubernetes is an open-source system for automating deployment, scaling, and management of containerized applications. The CNCF/Linux Foundation offers this performance-based exam which targets the developer aspect of kubernetes skills such as deploying apps, configuring apps, rolling out the application, creating persistent volumes, etc.</p>
<p>Since this exam is performance-based rather than just multiple choice questions just knowing the concepts are not enough, we need a lot of practice before the exam. This article helps you understand, practice and get you ready for the exam.</p>
<h3 id="core-concepts-13">Core Concepts (13%)</h3>
<p>Practice questions based on these concepts:</p>
<ul>
<li>Understand Kubernetes API Primitives</li>
<li>Create and Configure Basic Pods</li>
</ul>
<p><strong>1. List all the namespaces in the cluster</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get namespaces
kubectl get ns</code></pre></div></p>
<p><strong>2. List all the pods in all namespaces</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get po <span style="color:#f92672">--</span>all<span style="color:#f92672">-</span>namespaces</code></pre></div></p>
<p><strong>3. List all the pods in the particular namespace</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get po <span style="color:#f92672">-</span>n <span style="color:#f92672">&lt;</span>namespace name<span style="color:#f92672">&gt;</span></code></pre></div></p>
<p><strong>4. List all the services in the particular namespace</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get svc <span style="color:#f92672">-</span>n <span style="color:#f92672">&lt;</span>namespace name<span style="color:#f92672">&gt;</span></code></pre></div></p>
<p><strong>5. List all the pods showing name and namespace with a json path expression</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get pods <span style="color:#f92672">-</span>o<span style="color:#f92672">=</span>jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{.items[\*][&#39;metadata.name&#39;, &#39;metadata.namespace&#39;]}&#34;</span></code></pre></div></p>
<p><strong>6. Create an nginx pod in a default namespace and verify the pod running</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// creating a pod
</span><span style="color:#75715e"></span>kubectl run nginx <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>nginx <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never
<span style="color:#75715e">// List the pod
</span><span style="color:#75715e"></span>kubectl get po</code></pre></div></p>
<p><strong>7. Create the same nginx pod with a yaml file</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml">// get the yaml file with --dry-run flag
kubectl run nginx --image=nginx --restart=Never --dry-run -o yaml &gt; nginx-pod.yaml

// cat nginx-pod.yaml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">name</span>: nginx
      <span style="color:#66d9ef">resources</span>: {}
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```

// create a pod
kubectl create -f nginx-pod.yaml</code></pre></div></p>
<p><strong>8. Output the yaml file of the pod you just created</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get po nginx <span style="color:#f92672">-</span>o yaml</code></pre></div></p>
<p><strong>9. Output the yaml file of the pod you just created without the cluster-specific information</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get po nginx <span style="color:#f92672">-</span>o yaml <span style="color:#f92672">--</span>export</code></pre></div></p>
<p><strong>10. Get the complete details of the pod you just created</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl describe pod nginx</code></pre></div></p>
<p><strong>11. Delete the pod you just created</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl delete po nginx
kubectl delete <span style="color:#f92672">-</span>f nginx<span style="color:#f92672">-</span>pod<span style="color:#f92672">.</span><span style="color:#a6e22e">yaml</span></code></pre></div></p>
<p><strong>12. Delete the pod you just created without any delay (force delete)</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl delete po nginx <span style="color:#f92672">--</span>grace<span style="color:#f92672">-</span>period<span style="color:#f92672">=</span>0 <span style="color:#f92672">--</span>force</code></pre></div></p>
<p><strong>13. Create the nginx pod with version 1.17.4 and expose it on port 80</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl run nginx <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>nginx<span style="color:#f92672">:</span>1<span style="color:#f92672">.</span><span style="color:#a6e22e">17</span><span style="color:#f92672">.</span><span style="color:#a6e22e">4</span> <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never <span style="color:#f92672">--</span>port<span style="color:#f92672">=</span>80</code></pre></div></p>
<p><strong>14. Change the Image version to 1.15-alpine for the pod you just created and verify the image version is updated</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl set image pod<span style="color:#f92672">/</span>nginx nginx<span style="color:#f92672">=</span>nginx<span style="color:#f92672">:</span>1<span style="color:#f92672">.</span><span style="color:#a6e22e">15</span><span style="color:#f92672">-</span>alpine
kubectl describe po nginx
<span style="color:#75715e">// another way it will open vi editor and change the version
</span><span style="color:#75715e"></span>kubeclt edit po nginx
kubectl describe po nginx</code></pre></div></p>
<p><strong>15. Change the Image version back to 1.17.1 for the pod you just updated and observe the changes</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl set image pod<span style="color:#f92672">/</span>nginx nginx<span style="color:#f92672">=</span>nginx<span style="color:#f92672">:</span>1<span style="color:#f92672">.</span><span style="color:#a6e22e">17</span><span style="color:#f92672">.</span><span style="color:#a6e22e">1</span>
kubectl describe po nginx
kubectl get po nginx <span style="color:#f92672">-</span>w <span style="color:#960050;background-color:#1e0010">#</span> watch it</code></pre></div></p>
<p><strong>16. Check the Image version without the describe command</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get po nginx <span style="color:#f92672">-</span>o jsonpath<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#f92672">{.</span><span style="color:#a6e22e">spec</span><span style="color:#f92672">.</span><span style="color:#a6e22e">containers</span><span style="color:#f92672">[].</span><span style="color:#a6e22e">image</span><span style="color:#f92672">}{</span><span style="color:#e6db74">&#34;\n&#34;</span><span style="color:#f92672">}</span><span style="color:#960050;background-color:#1e0010">&#39;</span></code></pre></div></p>
<p><strong>17. Create the nginx pod and execute the simple shell on the pod</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// creating a pod
</span><span style="color:#75715e"></span>kubectl run nginx <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>nginx <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never
<span style="color:#75715e">// exec into the pod
</span><span style="color:#75715e"></span>kubectl exec <span style="color:#f92672">-</span>it nginx <span style="color:#f92672">/</span>bin<span style="color:#f92672">/</span>sh</code></pre></div></p>
<p><strong>18. Get the IP Address of the pod you just created</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get po nginx <span style="color:#f92672">-</span>o wide</code></pre></div></p>
<p><strong>19. Create a busybox pod and run command ls while creating it and check the logs</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl run busybox <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>busybox <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never <span style="color:#f92672">--</span> ls
kubectl logs busybox</code></pre></div></p>
<p><strong>20. If pod crashed check the previous logs of the pod</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl logs busybox <span style="color:#f92672">-</span>p</code></pre></div></p>
<p><strong>21. Create a busybox pod with command sleep 3600</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl run busybox <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>busybox <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never <span style="color:#f92672">--</span> <span style="color:#f92672">/</span>bin<span style="color:#f92672">/</span>sh <span style="color:#f92672">-</span>c <span style="color:#e6db74">&#34;sleep 3600&#34;</span></code></pre></div></p>
<p><strong>22. Check the connection of the nginx pod from the busybox pod</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get po nginx <span style="color:#f92672">-</span>o wide
<span style="color:#75715e">// check the connection
</span><span style="color:#75715e"></span>kubectl exec <span style="color:#f92672">-</span>it busybox <span style="color:#f92672">--</span> wget <span style="color:#f92672">-</span>o<span style="color:#f92672">-</span> <span style="color:#f92672">&lt;</span>IP Address<span style="color:#f92672">&gt;</span></code></pre></div></p>
<p><strong>23. Create a busybox pod and echo message ‘How are you’ and delete it manually</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl run busybox <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>nginx <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never <span style="color:#f92672">-</span>it <span style="color:#f92672">--</span> echo <span style="color:#e6db74">&#34;How are you&#34;</span>
kubectl delete po busybox</code></pre></div></p>
<p><strong>24. Create a busybox pod and echo message ‘How are you’ and have it deleted immediately</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// notice the --rm flag
</span><span style="color:#75715e"></span>kubectl run busybox <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>nginx <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never <span style="color:#f92672">-</span>it <span style="color:#f92672">--</span>rm <span style="color:#f92672">--</span> echo <span style="color:#e6db74">&#34;How are you&#34;</span></code></pre></div></p>
<p><strong>25. Create an nginx pod and list the pod with different levels of verbosity</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// create a pod
</span><span style="color:#75715e"></span>kubectl run nginx <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>nginx <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never <span style="color:#f92672">--</span>port<span style="color:#f92672">=</span>80
<span style="color:#75715e">// List the pod with different verbosity
</span><span style="color:#75715e"></span>kubectl get po nginx <span style="color:#f92672">--</span>v<span style="color:#f92672">=</span>7
kubectl get po nginx <span style="color:#f92672">--</span>v<span style="color:#f92672">=</span>8
kubectl get po nginx <span style="color:#f92672">--</span>v<span style="color:#f92672">=</span>9</code></pre></div></p>
<p><strong>26. List the nginx pod with custom columns POD_NAME and POD_STATUS</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get po <span style="color:#f92672">-</span>o<span style="color:#f92672">=</span>custom<span style="color:#f92672">-</span>columns<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;POD_NAME:.metadata.name, POD_STATUS:.status.containerStatuses[].state&#34;</span></code></pre></div></p>
<p><strong>27. List all the pods sorted by name</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get pods <span style="color:#f92672">--</span>sort<span style="color:#f92672">-</span>by<span style="color:#f92672">=.</span><span style="color:#a6e22e">metadata</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span></code></pre></div></p>
<p><strong>28. List all the pods sorted by created timestamp</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get pods<span style="color:#f92672">--</span>sort<span style="color:#f92672">-</span>by<span style="color:#f92672">=.</span><span style="color:#a6e22e">metadata</span><span style="color:#f92672">.</span><span style="color:#a6e22e">creationTimestamp</span></code></pre></div></p>
<h3 id="multi-container-pods-10">Multi-Container Pods (10%)</h3>
<p>Practice questions based on these concepts</p>
<ul>
<li>Understand multi-container pod design patterns (eg: ambassador, adaptor, sidecar)</li>
</ul>
<p><strong>29. Create a Pod with three busy box containers with commands “ls; sleep 3600;”, “echo Hello World; sleep 3600;” and “echo this is the third container; sleep 3600” respectively and check the status</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// first create single container pod with dry run flag
</span><span style="color:#75715e"></span>kubectl run busybox <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>busybox <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never <span style="color:#f92672">--</span>dry<span style="color:#f92672">-</span>run <span style="color:#f92672">-</span>o yaml <span style="color:#f92672">--</span> bin<span style="color:#f92672">/</span>sh <span style="color:#f92672">-</span>c <span style="color:#e6db74">&#34;sleep 3600; ls&#34;</span> <span style="color:#f92672">&gt;</span> multi<span style="color:#f92672">-</span>container<span style="color:#f92672">.</span><span style="color:#a6e22e">yaml</span>
<span style="color:#75715e">// edit the pod to following yaml and create it
</span><span style="color:#75715e"></span>kubectl create <span style="color:#f92672">-</span>f multi<span style="color:#f92672">-</span>container<span style="color:#f92672">.</span><span style="color:#a6e22e">yaml</span>
kubectl get po busybox

<span style="color:#75715e">//multi-container.yaml
</span><span style="color:#75715e"></span>
<span style="color:#960050;background-color:#1e0010">```</span>yaml
apiVersion: v1
kind: Pod
metadata:
  creationTimestamp<span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
  labels<span style="color:#f92672">:</span>
    run<span style="color:#f92672">:</span> busybox
  name<span style="color:#f92672">:</span> busybox
spec:
  containers<span style="color:#f92672">:</span>
    <span style="color:#f92672">-</span> args<span style="color:#f92672">:</span>
        <span style="color:#f92672">-</span> bin<span style="color:#f92672">/</span>sh
        <span style="color:#f92672">-</span> <span style="color:#f92672">-</span>c
        <span style="color:#f92672">-</span> ls<span style="color:#f92672">;</span> sleep 3600
      image<span style="color:#f92672">:</span> busybox
      name<span style="color:#f92672">:</span> busybox1
      resources<span style="color:#f92672">:</span> <span style="color:#f92672">{}</span>
    <span style="color:#f92672">-</span> args<span style="color:#f92672">:</span>
        <span style="color:#f92672">-</span> bin<span style="color:#f92672">/</span>sh
        <span style="color:#f92672">-</span> <span style="color:#f92672">-</span>c
        <span style="color:#f92672">-</span> echo Hello world<span style="color:#f92672">;</span> sleep 3600
      image<span style="color:#f92672">:</span> busybox
      name<span style="color:#f92672">:</span> busybox2
      resources<span style="color:#f92672">:</span> <span style="color:#f92672">{}</span>
    <span style="color:#f92672">-</span> args<span style="color:#f92672">:</span>
        <span style="color:#f92672">-</span> bin<span style="color:#f92672">/</span>sh
        <span style="color:#f92672">-</span> <span style="color:#f92672">-</span>c
        <span style="color:#f92672">-</span> echo <span style="color:#66d9ef">this</span> is third container<span style="color:#f92672">;</span> sleep 3600
      image<span style="color:#f92672">:</span> busybox
      name<span style="color:#f92672">:</span> busybox3
      resources<span style="color:#f92672">:</span> <span style="color:#f92672">{}</span>
  dnsPolicy<span style="color:#f92672">:</span> ClusterFirst
  restartPolicy<span style="color:#f92672">:</span> Never
status: <span style="color:#f92672">{}</span>
<span style="color:#960050;background-color:#1e0010">```</span>

      </code></pre></div></p>
<p><strong>30. Check the logs of each container that you just created</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl logs busybox <span style="color:#f92672">-</span>c busybox1
kubectl logs busybox <span style="color:#f92672">-</span>c busybox2
kubectl logs busybox <span style="color:#f92672">-</span>c busybox3</code></pre></div></p>
<p><strong>31. Check the previous logs of the second container busybox2 if any</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl logs busybox <span style="color:#f92672">-</span>c busybox2 <span style="color:#f92672">--</span>previous</code></pre></div>
<strong>32. Run command ls in the third container busybox3 of the above pod</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl exec busybox <span style="color:#f92672">-</span>c busybox3 <span style="color:#f92672">--</span> ls</code></pre></div></p>
<p><strong>33. Show metrics of the above pod containers and puts them into the file.log and verify</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl top pod busybox <span style="color:#f92672">--</span>containers
<span style="color:#75715e">// putting them into file
</span><span style="color:#75715e"></span>kubectl top pod busybox <span style="color:#f92672">--</span>containers <span style="color:#f92672">&gt;</span> file<span style="color:#f92672">.</span><span style="color:#a6e22e">log</span>
cat file<span style="color:#f92672">.</span><span style="color:#a6e22e">log</span></code></pre></div></p>
<p><strong>34. Create a Pod with main container busybox and which executes this “while true; do echo ‘Hi I am from Main container’ &raquo; /var/log/index.html; sleep 5; done” and with sidecar container with nginx image which exposes on port 80. Use emptyDir Volume and mount this volume on path /var/log for busybox and on path /usr/share/nginx/html for nginx container. Verify both containers are running.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// create an initial yaml file with this
kubectl run multi-cont-pod --image=busbox --restart=Never --dry-run -o yaml &gt; multi-container.yaml
// edit the yml as below and create it
kubectl create -f multi-container.yaml
kubectl get po multi-cont-pod

//multi-container.yaml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: multi-cont-pod
  <span style="color:#66d9ef">name</span>: multi-cont-pod
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">volumes</span>:
    - <span style="color:#66d9ef">name</span>: var-logs
      <span style="color:#66d9ef">emptyDir</span>: {}
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">image</span>: busybox
      <span style="color:#66d9ef">command</span>: [<span style="color:#e6db74">&#34;/bin/sh&#34;</span>]
      <span style="color:#66d9ef">args</span>:
        [
          <span style="color:#e6db74">&#34;-c&#34;</span>,
          <span style="color:#e6db74">&#34;while true; do echo &#39;Hi I am from Main container&#39; &gt;&gt; /var/log/index.html; sleep 5;done&#34;</span>,
        ]
      <span style="color:#66d9ef">name</span>: main-container
      <span style="color:#66d9ef">resources</span>: {}
      <span style="color:#66d9ef">volumeMounts</span>:
        - <span style="color:#66d9ef">name</span>: var-logs
          <span style="color:#66d9ef">mountPath</span>: /var/log
    - <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">name</span>: sidecar-container
      <span style="color:#66d9ef">resources</span>: {}
      <span style="color:#66d9ef">ports</span>:
        - <span style="color:#66d9ef">containerPort</span>: <span style="color:#ae81ff">80</span>
      <span style="color:#66d9ef">volumeMounts</span>:
        - <span style="color:#66d9ef">name</span>: var-logs
          <span style="color:#66d9ef">mountPath</span>: /usr/share/nginx/html
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>35. Exec into both containers and verify that main.txt exist and query the main.txt from sidecar container with curl localhost</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// exec into main container
</span><span style="color:#75715e"></span>kubectl exec <span style="color:#f92672">-</span>it multi<span style="color:#f92672">-</span>cont<span style="color:#f92672">-</span>pod <span style="color:#f92672">-</span>c main<span style="color:#f92672">-</span>container <span style="color:#f92672">--</span> sh
cat <span style="color:#f92672">/</span>var<span style="color:#f92672">/</span>log<span style="color:#f92672">/</span>main<span style="color:#f92672">.</span><span style="color:#a6e22e">txt</span>
<span style="color:#75715e">// exec into sidecar container
</span><span style="color:#75715e"></span>kubectl exec <span style="color:#f92672">-</span>it multi<span style="color:#f92672">-</span>cont<span style="color:#f92672">-</span>pod <span style="color:#f92672">-</span>c sidecar<span style="color:#f92672">-</span>container <span style="color:#f92672">--</span> sh
cat <span style="color:#f92672">/</span>usr<span style="color:#f92672">/</span>share<span style="color:#f92672">/</span>nginx<span style="color:#f92672">/</span>html<span style="color:#f92672">/</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">html</span>
<span style="color:#75715e">// install curl and get default page
</span><span style="color:#75715e"></span>kubectl exec <span style="color:#f92672">-</span>it multi<span style="color:#f92672">-</span>cont<span style="color:#f92672">-</span>pod <span style="color:#f92672">-</span>c sidecar<span style="color:#f92672">-</span>container <span style="color:#f92672">--</span> sh
apt<span style="color:#f92672">-</span>get update <span style="color:#f92672">&amp;&amp;</span> apt<span style="color:#f92672">-</span>get install <span style="color:#f92672">-</span>y curl
curl localhost</code></pre></div></p>
<h3 id="pod-design-20">Pod Design (20%)</h3>
<p>Practice questions based on these concepts</p>
<ul>
<li>Understand how to use Labels, Selectors and Annotations</li>
<li>Understand Deployments and how to perform rolling updates</li>
<li>Understand Deployments and how to perform rollbacks</li>
<li>Understand Jobs and CronJobs</li>
</ul>
<p><strong>36. Get the pods with label information</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get pods <span style="color:#f92672">--</span>show<span style="color:#f92672">-</span>labels</code></pre></div>
<strong>37. Create 5 nginx pods in which two of them is labeled env=prod and three of them is labeled env=dev</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl run nginx<span style="color:#f92672">-</span>dev1 <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>nginx <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never <span style="color:#f92672">--</span>labels<span style="color:#f92672">=</span>env<span style="color:#f92672">=</span>dev
kubectl run nginx<span style="color:#f92672">-</span>dev2 <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>nginx <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never <span style="color:#f92672">--</span>labels<span style="color:#f92672">=</span>env<span style="color:#f92672">=</span>dev
kubectl run nginx<span style="color:#f92672">-</span>dev3 <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>nginx <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never <span style="color:#f92672">--</span>labels<span style="color:#f92672">=</span>env<span style="color:#f92672">=</span>dev
kubectl run nginx<span style="color:#f92672">-</span>prod1 <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>nginx <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never <span style="color:#f92672">--</span>labels<span style="color:#f92672">=</span>env<span style="color:#f92672">=</span>prod
kubectl run nginx<span style="color:#f92672">-</span>prod2 <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>nginx <span style="color:#f92672">--</span>restart<span style="color:#f92672">=</span>Never <span style="color:#f92672">--</span>labels<span style="color:#f92672">=</span>env<span style="color:#f92672">=</span>prod</code></pre></div>
<strong>38. Verify all the pods are created with correct labels</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubeclt get pods <span style="color:#f92672">--</span>show<span style="color:#f92672">-</span>labels</code></pre></div>
<strong>39. Get the pods with label env=dev</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get pods <span style="color:#f92672">-</span>l env<span style="color:#f92672">=</span>dev</code></pre></div>
<strong>40. Get the pods with label env=dev and also output the labels</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get pods <span style="color:#f92672">-</span>l env<span style="color:#f92672">=</span>dev <span style="color:#f92672">--</span>show<span style="color:#f92672">-</span>labels</code></pre></div>
<strong>41. Get the pods with label env=prod</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get pods <span style="color:#f92672">-</span>l env<span style="color:#f92672">=</span>prod</code></pre></div>
<strong>42. Get the pods with label env=prod and also output the labels</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get pods <span style="color:#f92672">-</span>l env<span style="color:#f92672">=</span>prod <span style="color:#f92672">--</span>show<span style="color:#f92672">-</span>labels</code></pre></div>
<strong>43. Get the pods with label env</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get pods <span style="color:#f92672">-</span>L env</code></pre></div>
<strong>44. Get the pods with labels env=dev and env=prod</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get pods <span style="color:#f92672">-</span>l <span style="color:#960050;background-color:#1e0010">&#39;</span>env <span style="color:#a6e22e">in</span> <span style="color:#f92672">(</span>dev<span style="color:#f92672">,</span>prod<span style="color:#f92672">)</span><span style="color:#960050;background-color:#1e0010">&#39;</span></code></pre></div>
<strong>45. Get the pods with labels env=dev and env=prod and output the labels as well</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get pods <span style="color:#f92672">-</span>l <span style="color:#960050;background-color:#1e0010">&#39;</span>env <span style="color:#a6e22e">in</span> <span style="color:#f92672">(</span>dev<span style="color:#f92672">,</span>prod<span style="color:#f92672">)</span><span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#f92672">--</span>show<span style="color:#f92672">-</span>labels</code></pre></div>
<strong>46. Change the label for one of the pod to env=uat and list all the pods to verify</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl label pod<span style="color:#f92672">/</span>nginx<span style="color:#f92672">-</span>dev3 env<span style="color:#f92672">=</span>uat <span style="color:#f92672">--</span>overwrite
kubectl get pods <span style="color:#f92672">--</span>show<span style="color:#f92672">-</span>labels</code></pre></div>
<strong>47. Remove the labels for the pods that we created now and verify all the labels are removed</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl label pod nginx<span style="color:#f92672">-</span>dev<span style="color:#f92672">{</span>1<span style="color:#f92672">..</span><span style="color:#a6e22e">3</span><span style="color:#f92672">}</span> env<span style="color:#f92672">-</span>
kubectl label pod nginx<span style="color:#f92672">-</span>prod<span style="color:#f92672">{</span>1<span style="color:#f92672">..</span><span style="color:#a6e22e">2</span><span style="color:#f92672">}</span> env<span style="color:#f92672">-</span>
kubectl get po <span style="color:#f92672">--</span>show<span style="color:#f92672">-</span>labels</code></pre></div>
<strong>48. Let’s add the label app=nginx for all the pods and verify</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl label pod nginx<span style="color:#f92672">-</span>dev<span style="color:#f92672">{</span>1<span style="color:#f92672">..</span><span style="color:#a6e22e">3</span><span style="color:#f92672">}</span> app<span style="color:#f92672">=</span>nginx
kubectl label pod nginx<span style="color:#f92672">-</span>prod<span style="color:#f92672">{</span>1<span style="color:#f92672">..</span><span style="color:#a6e22e">2</span><span style="color:#f92672">}</span> app<span style="color:#f92672">=</span>nginx
kubectl get po <span style="color:#f92672">--</span>show<span style="color:#f92672">-</span>labels</code></pre></div>
<strong>49. Get all the nodes with labels (if using minikube you would get only master node)</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get nodes <span style="color:#f92672">--</span>show<span style="color:#f92672">-</span>labels</code></pre></div>
<strong>50. Label the node (minikube if you are using) nodeName=nginxnode</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl label node minikube nodeName<span style="color:#f92672">=</span>nginxnode</code></pre></div>
<strong>51. Create a Pod that will be deployed on this node with the label nodeName=nginxnode</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl run nginx --image=nginx --restart=Never --dry-run -o yaml &gt; pod.yaml
// add the nodeSelector like below and create the pod
kubectl create -f pod.yaml

//pod.yaml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">nodeSelector</span>:
    <span style="color:#66d9ef">nodeName</span>: nginxnode
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">name</span>: nginx
      <span style="color:#66d9ef">resources</span>: {}
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>52. Verify the pod that it is scheduled with the node selector</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl describe po nginx <span style="color:#f92672">|</span> grep Node<span style="color:#f92672">-</span>Selectors</code></pre></div></p>
<p><strong>53. Verify the pod nginx that we just created has this label</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl describe po nginx <span style="color:#f92672">|</span> grep Labels</code></pre></div></p>
<p><strong>54. Annotate the pods with name=webapp</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl annotate pod nginx<span style="color:#f92672">-</span>dev<span style="color:#f92672">{</span>1<span style="color:#f92672">..</span><span style="color:#a6e22e">3</span><span style="color:#f92672">}</span> name<span style="color:#f92672">=</span>webapp
kubectl annotate pod nginx<span style="color:#f92672">-</span>prod<span style="color:#f92672">{</span>1<span style="color:#f92672">..</span><span style="color:#a6e22e">2</span><span style="color:#f92672">}</span> name<span style="color:#f92672">=</span>webapp</code></pre></div></p>
<p><strong>55. Verify the pods that have been annotated correctly</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl describe po nginx<span style="color:#f92672">-</span>dev<span style="color:#f92672">{</span>1<span style="color:#f92672">..</span><span style="color:#a6e22e">3</span><span style="color:#f92672">}</span> <span style="color:#f92672">|</span> grep <span style="color:#f92672">-</span>i annotations
kubectl describe po nginx<span style="color:#f92672">-</span>prod<span style="color:#f92672">{</span>1<span style="color:#f92672">..</span><span style="color:#a6e22e">2</span><span style="color:#f92672">}</span> <span style="color:#f92672">|</span> grep <span style="color:#f92672">-</span>i annotations</code></pre></div></p>
<p><strong>56. Remove the annotations on the pods and verify</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl annotate pod nginx<span style="color:#f92672">-</span>dev<span style="color:#f92672">{</span>1<span style="color:#f92672">..</span><span style="color:#a6e22e">3</span><span style="color:#f92672">}</span> name<span style="color:#f92672">-</span>
kubectl annotate pod nginx<span style="color:#f92672">-</span>prod<span style="color:#f92672">{</span>1<span style="color:#f92672">..</span><span style="color:#a6e22e">2</span><span style="color:#f92672">}</span> name<span style="color:#f92672">-</span>
kubectl describe po nginx<span style="color:#f92672">-</span>dev<span style="color:#f92672">{</span>1<span style="color:#f92672">..</span><span style="color:#a6e22e">3</span><span style="color:#f92672">}</span> <span style="color:#f92672">|</span> grep <span style="color:#f92672">-</span>i annotations
kubectl describe po nginx<span style="color:#f92672">-</span>prod<span style="color:#f92672">{</span>1<span style="color:#f92672">..</span><span style="color:#a6e22e">2</span><span style="color:#f92672">}</span> <span style="color:#f92672">|</span> grep <span style="color:#f92672">-</span>i annotations</code></pre></div></p>
<p><strong>57. Remove all the pods that we created so far</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl delete po <span style="color:#f92672">--</span>all</code></pre></div></p>
<p><strong>58. Create a deployment called webapp with image nginx with 5 replicas</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl create deploy webapp <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>nginx <span style="color:#f92672">--</span>dry<span style="color:#f92672">-</span>run <span style="color:#f92672">-</span>o yaml <span style="color:#f92672">&gt;</span> webapp<span style="color:#f92672">.</span><span style="color:#a6e22e">yaml</span>
<span style="color:#75715e">// change the replicas to 5 in the yaml and create it
</span><span style="color:#75715e"></span>kubectl create <span style="color:#f92672">-</span>f webapp<span style="color:#f92672">.</span><span style="color:#a6e22e">yaml</span>

<span style="color:#75715e">//webapp.yaml
</span><span style="color:#75715e"></span>
<span style="color:#960050;background-color:#1e0010">```</span>yaml
apiVersion: apps<span style="color:#f92672">/</span>v1
kind: Deployment
metadata:
  creationTimestamp<span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
  labels<span style="color:#f92672">:</span>
    app<span style="color:#f92672">:</span> webapp
  name<span style="color:#f92672">:</span> webapp
spec:
  replicas<span style="color:#f92672">:</span> 5
  selector<span style="color:#f92672">:</span>
    matchLabels<span style="color:#f92672">:</span>
      app<span style="color:#f92672">:</span> webapp
  strategy<span style="color:#f92672">:</span> <span style="color:#f92672">{}</span>
  template<span style="color:#f92672">:</span>
    metadata<span style="color:#f92672">:</span>
      creationTimestamp<span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
      labels<span style="color:#f92672">:</span>
        app<span style="color:#f92672">:</span> webapp
    spec<span style="color:#f92672">:</span>
      containers<span style="color:#f92672">:</span>
        <span style="color:#f92672">-</span> image<span style="color:#f92672">:</span> nginx
          name<span style="color:#f92672">:</span> nginx
          resources<span style="color:#f92672">:</span> <span style="color:#f92672">{}</span>
status: <span style="color:#f92672">{}</span>
<span style="color:#960050;background-color:#1e0010">```</span></code></pre></div></p>
<p><strong>59. Get the deployment you just created with labels</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get deploy webapp <span style="color:#f92672">--</span>show<span style="color:#f92672">-</span>labels</code></pre></div>
<strong>60. Output the yaml file of the deployment you just created</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get deploy webapp <span style="color:#f92672">-</span>o yaml</code></pre></div>
<strong>61. Get the pods of this deployment</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// get the label of the deployment
</span><span style="color:#75715e"></span>kubectl get deploy <span style="color:#f92672">--</span>show<span style="color:#f92672">-</span>labels
<span style="color:#75715e">// get the pods with that label
</span><span style="color:#75715e"></span>kubectl get pods <span style="color:#f92672">-</span>l app<span style="color:#f92672">=</span>webapp</code></pre></div>
<strong>62. Scale the deployment from 5 replicas to 20 replicas and verify</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl scale deploy webapp <span style="color:#f92672">--</span>replicas<span style="color:#f92672">=</span>20
kubectl get po <span style="color:#f92672">-</span>l app<span style="color:#f92672">=</span>webapp</code></pre></div>
<strong>63. Get the deployment rollout status</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl rollout status deploy webapp</code></pre></div>
<strong>64. Get the replicaset that created with this deployment</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get rs <span style="color:#f92672">-</span>l app<span style="color:#f92672">=</span>webapp</code></pre></div>
<strong>65. Get the yaml of the replicaset and pods of this deployment</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get rs <span style="color:#f92672">-</span>l app<span style="color:#f92672">=</span>webapp <span style="color:#f92672">-</span>o yaml
kubectl get po <span style="color:#f92672">-</span>l app<span style="color:#f92672">=</span>webapp <span style="color:#f92672">-</span>o yaml</code></pre></div>
<strong>66. Delete the deployment you just created and watch all the pods are also being deleted</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl delete deploy webapp
kubectl get po <span style="color:#f92672">-</span>l app<span style="color:#f92672">=</span>webapp <span style="color:#f92672">-</span>w</code></pre></div>
<strong>67. Create a deployment of webapp with image nginx:1.17.1 with container port 80 and verify the image version</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl create deploy webapp <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>nginx<span style="color:#f92672">:</span>1<span style="color:#f92672">.</span><span style="color:#a6e22e">17</span><span style="color:#f92672">.</span><span style="color:#a6e22e">1</span> <span style="color:#f92672">--</span>dry<span style="color:#f92672">-</span>run <span style="color:#f92672">-</span>o yaml <span style="color:#f92672">&gt;</span> webapp<span style="color:#f92672">.</span><span style="color:#a6e22e">yaml</span>
<span style="color:#75715e">// add the port section and create the deployment
</span><span style="color:#75715e"></span>kubectl create <span style="color:#f92672">-</span>f webapp<span style="color:#f92672">.</span><span style="color:#a6e22e">yaml</span>
<span style="color:#75715e">// verify
</span><span style="color:#75715e"></span>kubectl describe deploy webapp <span style="color:#f92672">|</span> grep Image

<span style="color:#75715e">//webapp.yaml
</span><span style="color:#75715e"></span>
<span style="color:#960050;background-color:#1e0010">```</span>yaml
apiVersion: apps<span style="color:#f92672">/</span>v1
kind: Deployment
metadata:
  creationTimestamp<span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
  labels<span style="color:#f92672">:</span>
    app<span style="color:#f92672">:</span> webapp
  name<span style="color:#f92672">:</span> webapp
spec:
  replicas<span style="color:#f92672">:</span> 1
  selector<span style="color:#f92672">:</span>
    matchLabels<span style="color:#f92672">:</span>
      app<span style="color:#f92672">:</span> webapp
  strategy<span style="color:#f92672">:</span> <span style="color:#f92672">{}</span>
  template<span style="color:#f92672">:</span>
    metadata<span style="color:#f92672">:</span>
      creationTimestamp<span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
      labels<span style="color:#f92672">:</span>
        app<span style="color:#f92672">:</span> webapp
    spec<span style="color:#f92672">:</span>
      containers<span style="color:#f92672">:</span>
        <span style="color:#f92672">-</span> image<span style="color:#f92672">:</span> nginx<span style="color:#f92672">:</span>1<span style="color:#f92672">.</span><span style="color:#a6e22e">17</span><span style="color:#f92672">.</span><span style="color:#a6e22e">1</span>
          name<span style="color:#f92672">:</span> nginx
          ports<span style="color:#f92672">:</span>
            <span style="color:#f92672">-</span> containerPort<span style="color:#f92672">:</span> 80
          resources<span style="color:#f92672">:</span> <span style="color:#f92672">{}</span>
status: <span style="color:#f92672">{}</span>
<span style="color:#960050;background-color:#1e0010">```</span></code></pre></div></p>
<p><strong>68. Update the deployment with the image version 1.17.4 and verify</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl set image deploy<span style="color:#f92672">/</span>webapp nginx<span style="color:#f92672">=</span>nginx<span style="color:#f92672">:</span>1<span style="color:#f92672">.</span><span style="color:#a6e22e">17</span><span style="color:#f92672">.</span><span style="color:#a6e22e">4</span>
kubectl describe deploy webapp <span style="color:#f92672">|</span> grep Image</code></pre></div>
<strong>69. Check the rollout history and make sure everything is ok after the update</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl rollout history deploy webapp
kubectl get deploy webapp <span style="color:#f92672">--</span>show<span style="color:#f92672">-</span>labels
kubectl get rs <span style="color:#f92672">-</span>l app<span style="color:#f92672">=</span>webapp
kubectl get po <span style="color:#f92672">-</span>l app<span style="color:#f92672">=</span>webapp</code></pre></div>
<strong>70. Undo the deployment to the previous version 1.17.1 and verify Image has the previous version</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl rollout undo deploy webapp
kubectl describe deploy webapp <span style="color:#f92672">|</span> grep Image</code></pre></div>
<strong>71. Update the deployment with the image version 1.16.1 and verify the image and also check the rollout history</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl set image deploy<span style="color:#f92672">/</span>webapp nginx<span style="color:#f92672">=</span>nginx<span style="color:#f92672">:</span>1<span style="color:#f92672">.</span><span style="color:#a6e22e">16</span><span style="color:#f92672">.</span><span style="color:#a6e22e">1</span>
kubectl describe deploy webapp <span style="color:#f92672">|</span> grep Image
kubectl rollout history deploy webapp</code></pre></div>
<strong>72. Update the deployment to the Image 1.17.1 and verify everything is ok</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl rollout undo deploy webapp <span style="color:#f92672">--</span>to<span style="color:#f92672">-</span>revision<span style="color:#f92672">=</span>3
kubectl describe deploy webapp <span style="color:#f92672">|</span> grep Image
kubectl rollout status deploy webapp</code></pre></div>
<strong>73. Update the deployment with the wrong image version 1.100 and verify something is wrong with the deployment</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl set image deploy<span style="color:#f92672">/</span>webapp nginx<span style="color:#f92672">=</span>nginx<span style="color:#f92672">:</span>1<span style="color:#f92672">.</span><span style="color:#a6e22e">100</span>
kubectl rollout status deploy <span style="color:#a6e22e">webapp</span> <span style="color:#f92672">(</span>still pending state<span style="color:#f92672">)</span>
kubectl get <span style="color:#a6e22e">pods</span> <span style="color:#f92672">(</span>ImagePullErr<span style="color:#f92672">)</span></code></pre></div>
<strong>74. Undo the deployment with the previous version and verify everything is Ok</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl rollout undo deploy webapp
kubectl rollout status deploy webapp
kubectl get pods</code></pre></div>
<strong>75. Check the history of the specific revision of that deployment</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl rollout history deploy webapp <span style="color:#f92672">--</span>revision<span style="color:#f92672">=</span>7</code></pre></div>
<strong>76. Pause the rollout of the deployment</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl rollout pause deploy webapp</code></pre></div>
<strong>77. Update the deployment with the image version latest and check the history and verify nothing is going on</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl set image deploy<span style="color:#f92672">/</span>webapp nginx<span style="color:#f92672">=</span>nginx<span style="color:#f92672">:</span>latest
kubectl rollout history deploy <span style="color:#a6e22e">webapp</span> <span style="color:#f92672">(</span>No <span style="color:#66d9ef">new</span> revision<span style="color:#f92672">)</span></code></pre></div>
<strong>78. Resume the rollout of the deployment</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl rollout resume deploy webapp</code></pre></div>
<strong>79. Check the rollout history and verify it has the new version</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl rollout history deploy webapp
kubectl rollout history deploy webapp <span style="color:#f92672">--</span>revision<span style="color:#f92672">=</span>9</code></pre></div>
<strong>80. Apply the autoscaling to this deployment with minimum 10 and maximum 20 replicas and target CPU of 85% and verify hpa is created and replicas are increased to 10 from 1</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl autoscale deploy webapp <span style="color:#f92672">--</span>min<span style="color:#f92672">=</span>10 <span style="color:#f92672">--</span>max<span style="color:#f92672">=</span>20 <span style="color:#f92672">--</span>cpu<span style="color:#f92672">-</span>percent<span style="color:#f92672">=</span>85
kubectl get hpa
kubectl get pod <span style="color:#f92672">-</span>l app<span style="color:#f92672">=</span>webapp</code></pre></div></p>
<p><strong>81. Clean the cluster by deleting deployment and hpa you just created</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl delete deploy webapp
kubectl delete hpa webapp</code></pre></div></p>
<p><strong>82. Create a Job with an image node which prints node version and also verifies there is a pod created for this job</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl create job nodeversion <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>node <span style="color:#f92672">--</span> node <span style="color:#f92672">-</span>v
kubectl get job <span style="color:#f92672">-</span>w
kubectl get pod</code></pre></div></p>
<p><strong>83. Get the logs of the job just created</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl logs <span style="color:#f92672">&lt;</span>pod name<span style="color:#f92672">&gt;</span> <span style="color:#75715e">// created from the job
</span><span style="color:#75715e"></span>84<span style="color:#f92672">.</span><span style="color:#a6e22e">Output</span> the yaml file <span style="color:#66d9ef">for</span> the Job with the image busybox which echos <span style="color:#960050;background-color:#1e0010">“</span>Hello I am from job<span style="color:#960050;background-color:#1e0010">”</span>
kubectl create job hello<span style="color:#f92672">-</span>job <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>busybox <span style="color:#f92672">--</span>dry<span style="color:#f92672">-</span>run <span style="color:#f92672">-</span>o yaml <span style="color:#f92672">--</span> echo <span style="color:#e6db74">&#34;Hello I am from job&#34;</span></code></pre></div></p>
<p><strong>84. Copy the above YAML file to hello-job.yaml file and create the job</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl create job hello<span style="color:#f92672">-</span>job <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>busybox <span style="color:#f92672">--</span>dry<span style="color:#f92672">-</span>run <span style="color:#f92672">-</span>o yaml <span style="color:#f92672">--</span> echo <span style="color:#e6db74">&#34;Hello I am from job&#34;</span> <span style="color:#f92672">&gt;</span> hello<span style="color:#f92672">-</span>job<span style="color:#f92672">.</span><span style="color:#a6e22e">yaml</span>
kubectl create <span style="color:#f92672">-</span>f hello<span style="color:#f92672">-</span>job<span style="color:#f92672">.</span><span style="color:#a6e22e">yaml</span></code></pre></div></p>
<p><strong>85. Verify the job and the associated pod is created and check the logs as well</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get job
kubectl get po
kubectl logs hello<span style="color:#f92672">-</span>job<span style="color:#f92672">-</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#f92672">*</span></code></pre></div></p>
<p><strong>86. Delete the job we just created</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl delete job hello<span style="color:#f92672">-</span>job</code></pre></div></p>
<p><strong>87. Create the same job and make it run 10 times one after one</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl create job hello<span style="color:#f92672">-</span>job <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>busybox <span style="color:#f92672">--</span>dry<span style="color:#f92672">-</span>run <span style="color:#f92672">-</span>o yaml <span style="color:#f92672">--</span> echo <span style="color:#e6db74">&#34;Hello I am from job&#34;</span> <span style="color:#f92672">&gt;</span> hello<span style="color:#f92672">-</span>job<span style="color:#f92672">.</span><span style="color:#a6e22e">yaml</span>
<span style="color:#75715e">// edit the yaml file to add completions: 10
</span><span style="color:#75715e"></span>kubectl create <span style="color:#f92672">-</span>f hello<span style="color:#f92672">-</span>job<span style="color:#f92672">.</span><span style="color:#a6e22e">yaml</span>

<span style="color:#75715e">//hello-job.yaml
</span><span style="color:#75715e"></span>
<span style="color:#960050;background-color:#1e0010">```</span>yaml
apiVersion: batch<span style="color:#f92672">/</span>v1
kind: Job
metadata:
  creationTimestamp<span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
  name<span style="color:#f92672">:</span> hello<span style="color:#f92672">-</span>job
spec:
  completions<span style="color:#f92672">:</span> 10
  template<span style="color:#f92672">:</span>
    metadata<span style="color:#f92672">:</span>
      creationTimestamp<span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
    spec<span style="color:#f92672">:</span>
      containers<span style="color:#f92672">:</span>
        <span style="color:#f92672">-</span> command<span style="color:#f92672">:</span>
            <span style="color:#f92672">-</span> echo
            <span style="color:#f92672">-</span> Hello I am from job
          image<span style="color:#f92672">:</span> busybox
          name<span style="color:#f92672">:</span> hello<span style="color:#f92672">-</span>job
          resources<span style="color:#f92672">:</span> <span style="color:#f92672">{}</span>
      restartPolicy<span style="color:#f92672">:</span> Never
status: <span style="color:#f92672">{}</span>
<span style="color:#960050;background-color:#1e0010">```</span></code></pre></div></p>
<p><strong>88.Output the yaml file for the Job with the image busybox which echos “Hello I am from job”</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl create job hello<span style="color:#f92672">-</span>job <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>busybox <span style="color:#f92672">--</span>dry<span style="color:#f92672">-</span>run <span style="color:#f92672">-</span>o yaml <span style="color:#f92672">--</span> echo <span style="color:#e6db74">&#34;Hello I am from job&#34;</span></code></pre></div></p>
<p><strong>89. Watch the job that runs 10 times one by one and verify 10 pods are created and delete those after it’s completed</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get job <span style="color:#f92672">-</span>w
kubectl get po
kubectl delete job hello<span style="color:#f92672">-</span>job</code></pre></div></p>
<p><strong>90. Create the same job and make it run 10 times parallel</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl create job hello-job --image=busybox --dry-run -o yaml -- echo <span style="color:#e6db74">&#34;Hello I am from job&#34;</span> &gt; hello-job.yaml
<span style="color:#66d9ef">// edit the yaml file to add parallelism</span>: <span style="color:#ae81ff">10</span>
kubectl create -f hello-job.yaml

//hello-job.yaml

```yaml
<span style="color:#66d9ef">apiVersion</span>: batch/v1
<span style="color:#66d9ef">kind</span>: Job
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">name</span>: hello-job
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">parallelism</span>: <span style="color:#ae81ff">10</span>
  <span style="color:#66d9ef">template</span>:
    <span style="color:#66d9ef">metadata</span>:
      <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
    <span style="color:#66d9ef">spec</span>:
      <span style="color:#66d9ef">containers</span>:
        - <span style="color:#66d9ef">command</span>:
            - echo
            - Hello I am from job
          <span style="color:#66d9ef">image</span>: busybox
          <span style="color:#66d9ef">name</span>: hello-job
          <span style="color:#66d9ef">resources</span>: {}
      <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>91. Watch the job that runs 10 times parallelly and verify 10 pods are created and delete those after it’s completed</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get job <span style="color:#f92672">-</span>w
kubectl get po
kubectl delete job hello<span style="color:#f92672">-</span>job</code></pre></div></p>
<p><strong>92. Create a Cronjob with busybox image that prints date and hello from kubernetes cluster message for every minute</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl create cronjob date<span style="color:#f92672">-</span>job <span style="color:#f92672">--</span>image<span style="color:#f92672">=</span>busybox <span style="color:#f92672">--</span>schedule<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_/1 _ \* \* \*&#34;</span> <span style="color:#f92672">--</span> bin<span style="color:#f92672">/</span>sh <span style="color:#f92672">-</span>c <span style="color:#e6db74">&#34;date; echo Hello from kubernetes cluster&#34;</span></code></pre></div></p>
<p><strong>93. Output the YAML file of the above cronjob</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get cj date<span style="color:#f92672">-</span>job <span style="color:#f92672">-</span>o yaml</code></pre></div></p>
<p><strong>94. Verify that CronJob creating a separate job and pods for every minute to run and verify the logs of the pod</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl get job
kubectl get po
kubectl logs date<span style="color:#f92672">-</span>job<span style="color:#f92672">-&lt;</span>jobid<span style="color:#f92672">&gt;-&lt;</span>pod<span style="color:#f92672">&gt;</span></code></pre></div></p>
<p><strong>95. Delete the CronJob and verify all the associated jobs and pods are also deleted.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kubectl delete cj date<span style="color:#f92672">-</span>job
<span style="color:#75715e">// verify pods and jobs
</span><span style="color:#75715e"></span>kubectl get po
kubectl get job</code></pre></div></p>
<h3 id="state-persistence-8">State Persistence (8%)</h3>
<p>Practice questions based on these concepts</p>
<ul>
<li>Understand PersistentVolumeClaims for Storage</li>
</ul>
<p><strong>96. List Persistent Volumes in the cluster</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl get pv</code></pre></div>
<strong>97. Create a hostPath PersistentVolume named task-pv-volume with storage 10Gi, access modes ReadWriteOnce, storageClassName manual, and volume at /mnt/data and verify</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl create -f task-pv-volume.yaml
kubectl get pv

//task-pv-volume.yaml

````yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: PersistentVolume
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">name</span>: task-pv-volume
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">type</span>: local
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">storageClassName</span>: manual
  <span style="color:#66d9ef">capacity</span>:
    <span style="color:#66d9ef">storage</span>: 10Gi
  <span style="color:#66d9ef">accessModes</span>:
    - ReadWriteOnce
  <span style="color:#66d9ef">hostPath</span>:
    <span style="color:#66d9ef">path</span>: <span style="color:#e6db74">&#34;/mnt/data&#34;</span>
    ```</code></pre></div></p>
<p><strong>98. Create a PersistentVolumeClaim of at least 3Gi storage and access mode ReadWriteOnce and verify status is Bound</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl create -f task-pv-claim.yaml
kubectl get pvc

//task-pv-claim.yaml
```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: PersistentVolumeClaim
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">name</span>: task-pv-claim
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">storageClassName</span>: manual
  <span style="color:#66d9ef">accessModes</span>:
    - ReadWriteOnce
  <span style="color:#66d9ef">resources</span>:
    <span style="color:#66d9ef">requests</span>:
      <span style="color:#66d9ef">storage</span>: 3Gi
      ```</code></pre></div></p>
<p><strong>99. Delete persistent volume and PersistentVolumeClaim we just created</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl delete pvc task-pv-claim
kubectl delete pv task-pv-volume</code></pre></div>
<strong>100. Create a Pod with an image Redis and configure a volume that lasts for the lifetime of the Pod</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// emptyDir is the volume that lasts for the life of the pod
kubectl create -f redis-storage.yaml

//redis-storage.yaml
```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">name</span>: redis
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
  - <span style="color:#66d9ef">name</span>: redis
    <span style="color:#66d9ef">image</span>: redis
    <span style="color:#66d9ef">volumeMounts</span>:
    - <span style="color:#66d9ef">name</span>: redis-storage
      <span style="color:#66d9ef">mountPath</span>: /data/redis
  <span style="color:#66d9ef">volumes</span>:
  - <span style="color:#66d9ef">name</span>: redis-storage
    <span style="color:#66d9ef">emptyDir</span>: {}
    ```</code></pre></div></p>
<p><strong>101. Exec into the above pod and create a file named file.txt with the text ‘This is called the file’ in the path /data/redis and open another tab and exec again with the same pod and verifies file exist in the same path.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// first terminal
kubectl exec -it redis-storage /bin/sh
cd /data/redis
echo <span style="color:#e6db74">&#39;This is called the file&#39;</span> &gt; file.txt
//open another tab
kubectl exec -it redis-storage /bin/sh
cat /data/redis/file.txt</code></pre></div>
<strong>102. Delete the above pod and create again from the same yaml file and verifies there is no file.txt in the path /data/redis</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl delete pod redis
kubectl create -f redis-storage.yaml
kubectl exec -it redis-storage /bin/sh
cat /data/redis/file.txt // file doesn&#39;t exist</code></pre></div>
<strong>103. Create PersistentVolume named task-pv-volume with storage 10Gi, access modes ReadWriteOnce, storageClassName manual, and volume at /mnt/data and Create a PersistentVolumeClaim of at least 3Gi storage and access mode ReadWriteOnce and verify status is Bound</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl create -f task-pv-volume.yaml
kubectl create -f task-pv-claim.yaml
kubectl get pv
kubectl get pvc</code></pre></div>
<strong>104. Create an nginx pod with containerPort 80 and with a PersistentVolumeClaim task-pv-claim and has a mouth path &ldquo;/usr/share/nginx/html&rdquo;</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl create -f task-pv-pod.yaml

//task-pv-pod.yaml
```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">name</span>: task-pv-pod
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">volumes</span>:
    - <span style="color:#66d9ef">name</span>: task-pv-storage
      <span style="color:#66d9ef">persistentVolumeClaim</span>:
        <span style="color:#66d9ef">claimName</span>: task-pv-claim
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">name</span>: task-pv-container
      <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">ports</span>:
        - <span style="color:#66d9ef">containerPort</span>: <span style="color:#ae81ff">80</span>
          <span style="color:#66d9ef">name</span>: <span style="color:#e6db74">&#34;http-server&#34;</span>
      <span style="color:#66d9ef">volumeMounts</span>:
        - <span style="color:#66d9ef">mountPath</span>: <span style="color:#e6db74">&#34;/usr/share/nginx/html&#34;</span>
          <span style="color:#66d9ef">name</span>: task-pv-storage
          ```</code></pre></div></p>
<h3 id="configuration-18">Configuration (18%)</h3>
<p>Practice questions based on these concepts</p>
<ul>
<li>Understand ConfigMaps</li>
<li>Understand SecurityContexts</li>
<li>Define an application’s resource requirements</li>
<li>Create &amp; Consume Secrets</li>
<li>Understand ServiceAccounts</li>
</ul>
<p><strong>105. List all the configmaps in the cluster</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl get cm
or
kubectl get configmap</code></pre></div></p>
<p><strong>106. Create a configmap called myconfigmap with literal value appname=myapp</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl create cm myconfigmap --from-literal=appname=myapp</code></pre></div></p>
<p><strong>107. Verify the configmap we just created has this data</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// you will see under data
kubectl get cm -o yaml
or
kubectl describe cm</code></pre></div></p>
<p><strong>108. delete the configmap myconfigmap we just created</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl delete cm myconfigmap</code></pre></div></p>
<p><strong>109. Create a file called config.txt with two values key1=value1 and key2=value2 and verify the file</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">cat &gt;&gt; config.txt &lt;&lt; EOF
key1=value1
key2=value2
EOF
cat config.txt</code></pre></div></p>
<p><strong>110. Create a configmap named keyvalcfgmap and read data from the file config.txt and verify that configmap is created correctly</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl create cm keyvalcfgmap --from-file=config.txt
kubectl get cm keyvalcfgmap -o yaml</code></pre></div></p>
<p><strong>111. Create an nginx pod and load environment values from the above configmap keyvalcfgmap and exec into the pod and verify the environment variables and delete the pod</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// first run this command to save the pod yml
kubectl run nginx --image=nginx --restart=Never --dry-run -o yaml &gt; nginx-pod.yml
// edit the yml to below file and create
kubectl create -f nginx-pod.yml
// verify
kubectl exec -it nginx -- env
kubectl delete po nginx

//nginx-pod.yml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">name</span>: nginx
      <span style="color:#66d9ef">resources</span>: {}
      <span style="color:#66d9ef">envFrom</span>:
        - <span style="color:#66d9ef">configMapRef</span>:
            <span style="color:#66d9ef">name</span>: keyvalcfgmap
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>112. Create an env file file.env with var1=val1 and create a configmap envcfgmap from this env file and verify the configmap</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">echo var1=val1 &gt; file.env
cat file.env
kubectl create cm envcfgmap --from-env-file=file.env
kubectl get cm envcfgmap -o yaml --export</code></pre></div></p>
<p><strong>113. Create an nginx pod and load environment values from the above configmap envcfgmap and exec into the pod and verify the environment variables and delete the pod</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// first run this command to save the pod yml
kubectl run nginx --image=nginx --restart=Never --dry-run -o yaml &gt; nginx-pod.yml
// edit the yml to below file and create
kubectl create -f nginx-pod.yml
// verify
kubectl exec -it nginx -- env
kubectl delete po nginx

//nginx-pod.yaml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">name</span>: nginx
      <span style="color:#66d9ef">resources</span>: {}
      <span style="color:#66d9ef">env</span>:
        - <span style="color:#66d9ef">name</span>: ENVIRONMENT
          <span style="color:#66d9ef">valueFrom</span>:
            <span style="color:#66d9ef">configMapKeyRef</span>:
              <span style="color:#66d9ef">name</span>: envcfgmap
              <span style="color:#66d9ef">key</span>: var1
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>114. Create a configmap called cfgvolume with values var1=val1, var2=val2 and create an nginx pod with volume nginx-volume which reads data from this configmap cfgvolume and put it on the path /etc/cfg</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// first create a configmap cfgvolume
kubectl create cm cfgvolume --from-literal=var1=val1 --from-literal=var2=val2
// verify the configmap
kubectl describe cm cfgvolume
// create the config map
kubectl create -f nginx-volume.yml
// exec into the pod
kubectl exec -it nginx -- /bin/sh
// check the path
cd /etc/cfg
ls

//nginx-volume.yml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">volumes</span>:
    - <span style="color:#66d9ef">name</span>: nginx-volume
      <span style="color:#66d9ef">configMap</span>:
        <span style="color:#66d9ef">name</span>: cfgvolume
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">name</span>: nginx
      <span style="color:#66d9ef">resources</span>: {}
      <span style="color:#66d9ef">volumeMounts</span>:
        - <span style="color:#66d9ef">name</span>: nginx-volume
          <span style="color:#66d9ef">mountPath</span>: /etc/cfg
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>115. Create a pod called secbusybox with the image busybox which executes command sleep 3600 and makes sure any Containers in the Pod, all processes run with user ID 1000 and with group id 2000 and verify.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// create yml file with dry-run
kubectl run secbusybox --image=busybox --restart=Never --dry-run -o yaml -- /bin/sh -c <span style="color:#e6db74">&#34;sleep 3600;&#34;</span> &gt; busybox.yml
// edit the pod like below and create
kubectl create -f busybox.yml
// verify
kubectl exec -it secbusybox -- sh
id // it will show the id and group

//busybox.yml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: secbusybox
  <span style="color:#66d9ef">name</span>: secbusybox
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">securityContext</span>: <span style="color:#75715e"># add security context</span>
    <span style="color:#66d9ef">runAsUser</span>: <span style="color:#ae81ff">1000</span>
    <span style="color:#66d9ef">runAsGroup</span>: <span style="color:#ae81ff">2000</span>
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">args</span>:
        - /bin/sh
        - -c
        - sleep <span style="color:#ae81ff">3600</span>;
      <span style="color:#66d9ef">image</span>: busybox
      <span style="color:#66d9ef">name</span>: secbusybox
      <span style="color:#66d9ef">resources</span>: {}
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>116. Create the same pod as above this time set the securityContext for the container as well and verify that the securityContext of container overrides the Pod level securityContext.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// create yml file with dry-run
kubectl run secbusybox --image=busybox --restart=Never --dry-run -o yaml -- /bin/sh -c <span style="color:#e6db74">&#34;sleep 3600;&#34;</span> &gt; busybox.yml
// edit the pod like below and create
kubectl create -f busybox.yml
// verify
kubectl exec -it secbusybox -- sh
id // you can see container securityContext overides the Pod level

//busybox.yml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: secbusybox
  <span style="color:#66d9ef">name</span>: secbusybox
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">securityContext</span>:
    <span style="color:#66d9ef">runAsUser</span>: <span style="color:#ae81ff">1000</span>
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">args</span>:
        - /bin/sh
        - -c
        - sleep <span style="color:#ae81ff">3600</span>;
      <span style="color:#66d9ef">image</span>: busybox
      <span style="color:#66d9ef">securityContext</span>:
        <span style="color:#66d9ef">runAsUser</span>: <span style="color:#ae81ff">2000</span>
      <span style="color:#66d9ef">name</span>: secbusybox
      <span style="color:#66d9ef">resources</span>: {}
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>117. Create pod with an nginx image and configure the pod with capabilities NET_ADMIN and SYS_TIME verify the capabilities</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// create the yaml file
kubectl run nginx --image=nginx --restart=Never --dry-run -o yaml &gt; nginx.yml
// edit as below and create pod
kubectl create -f nginx.yml
// exec and verify
kubectl exec -it nginx -- sh
cd /proc/<span style="color:#ae81ff">1</span>
cat status
// you should see these values
<span style="color:#66d9ef">CapPrm</span>: 00000000aa0435fb
<span style="color:#66d9ef">CapEff</span>: 00000000aa0435fb

//nginx.yml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">securityContext</span>:
        <span style="color:#66d9ef">capabilities</span>:
          <span style="color:#66d9ef">add</span>: [<span style="color:#e6db74">&#34;SYS_TIME&#34;</span>, <span style="color:#e6db74">&#34;NET_ADMIN&#34;</span>]
      <span style="color:#66d9ef">name</span>: nginx
      <span style="color:#66d9ef">resources</span>: {}
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>118. Create a Pod nginx and specify a memory request and a memory limit of 100Mi and 200Mi respectively.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// create a yml file
kubectl run nginx --image=nginx --restart=Never --dry-run -o yaml &gt; nginx.yml
// add the resources section and create
kubectl create -f nginx.yml
// verify
kubectl top pod

//nginx.yml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">name</span>: nginx
      <span style="color:#66d9ef">resources</span>:
        <span style="color:#66d9ef">requests</span>:
          <span style="color:#66d9ef">memory</span>: <span style="color:#e6db74">&#34;100Mi&#34;</span>
        <span style="color:#66d9ef">limits</span>:
          <span style="color:#66d9ef">memory</span>: <span style="color:#e6db74">&#34;200Mi&#34;</span>
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>119. Create a Pod nginx and specify a CPU request and a CPU limit of 0.5 and 1 respectively.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// create a yml file
kubectl run nginx --image=nginx --restart=Never --dry-run -o yaml &gt; nginx.yml
// add the resources section and create
kubectl create -f nginx.yml
// verify
kubectl top pod

//nginx.yml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">name</span>: nginx
      <span style="color:#66d9ef">resources</span>:
        <span style="color:#66d9ef">requests</span>:
          <span style="color:#66d9ef">cpu</span>: <span style="color:#e6db74">&#34;0.5&#34;</span>
        <span style="color:#66d9ef">limits</span>:
          <span style="color:#66d9ef">cpu</span>: <span style="color:#e6db74">&#34;1&#34;</span>
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>120. Create a Pod nginx and specify both CPU, memory requests and limits together and verify.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// create a yml file
kubectl run nginx --image=nginx --restart=Never --dry-run -o yaml &gt; nginx.yml
// add the resources section and create
kubectl create -f nginx.yml
// verify
kubectl top pod

//nginx.yml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">name</span>: nginx
      <span style="color:#66d9ef">resources</span>:
        <span style="color:#66d9ef">requests</span>:
          <span style="color:#66d9ef">memory</span>: <span style="color:#e6db74">&#34;100Mi&#34;</span>
          <span style="color:#66d9ef">cpu</span>: <span style="color:#e6db74">&#34;0.5&#34;</span>
        <span style="color:#66d9ef">limits</span>:
          <span style="color:#66d9ef">memory</span>: <span style="color:#e6db74">&#34;200Mi&#34;</span>
          <span style="color:#66d9ef">cpu</span>: <span style="color:#e6db74">&#34;1&#34;</span>
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>121. Create a Pod nginx and specify a memory request and a memory limit of 100Gi and 200Gi respectively which is too big for the nodes and verify pod fails to start because of insufficient memory</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// create a yml file
kubectl run nginx --image=nginx --restart=Never --dry-run -o yaml &gt; nginx.yml
// add the resources section and create
kubectl create -f nginx.yml
// verify
kubectl describe po nginx // you can see pending state

//nginx.yml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">name</span>: nginx
      <span style="color:#66d9ef">resources</span>:
        <span style="color:#66d9ef">requests</span>:
          <span style="color:#66d9ef">memory</span>: <span style="color:#e6db74">&#34;100Gi&#34;</span>
          <span style="color:#66d9ef">cpu</span>: <span style="color:#e6db74">&#34;0.5&#34;</span>
        <span style="color:#66d9ef">limits</span>:
          <span style="color:#66d9ef">memory</span>: <span style="color:#e6db74">&#34;200Gi&#34;</span>
          <span style="color:#66d9ef">cpu</span>: <span style="color:#e6db74">&#34;1&#34;</span>
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>122. Create a secret mysecret with values user=myuser and password=mypassword</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl create secret generic my-secret --from-literal=username=user --from-literal=password=mypassword</code></pre></div></p>
<p><strong>123. List the secrets in all namespaces</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl get secret --all-namespaces</code></pre></div></p>
<p><strong>124. Output the yaml of the secret created above</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl get secret my-secret -o yaml</code></pre></div></p>
<p><strong>125. Create an nginx pod which reads username as the environment variable</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// create a yml file
kubectl run nginx --image=nginx --restart=Never --dry-run -o yaml &gt; nginx.yml
// add env section below and create
kubectl create -f nginx.yml
//verify
kubectl exec -it nginx -- env

//nginx.yml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">name</span>: nginx
      <span style="color:#66d9ef">env</span>:
        - <span style="color:#66d9ef">name</span>: USER_NAME
          <span style="color:#66d9ef">valueFrom</span>:
            <span style="color:#66d9ef">secretKeyRef</span>:
              <span style="color:#66d9ef">name</span>: my-secret
              <span style="color:#66d9ef">key</span>: username
      <span style="color:#66d9ef">resources</span>: {}
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>126. Create an nginx pod which loads the secret as environment variables</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// create a yml file
kubectl run nginx --image=nginx --restart=Never --dry-run -o yaml &gt; nginx.yml
// add env section below and create
kubectl create -f nginx.yml
//verify
kubectl exec -it nginx -- env

//nginx.yml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">image</span>: nginx
      <span style="color:#66d9ef">name</span>: nginx
      <span style="color:#66d9ef">envFrom</span>:
        - <span style="color:#66d9ef">secretRef</span>:
            <span style="color:#66d9ef">name</span>: my-secret
      <span style="color:#66d9ef">resources</span>: {}
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>127. List all the service accounts in the default namespace</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl get sa</code></pre></div></p>
<p><strong>128. List all the service accounts in all namespaces</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl get sa --all-namespaces</code></pre></div></p>
<p><strong>129. Create a service account called admin</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl create sa admin</code></pre></div></p>
<p><strong>130. Output the YAML file for the service account we just created</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl get sa admin -o yaml</code></pre></div></p>
<p><strong>131. Create a busybox pod which executes this command sleep 3600 with the service account admin and verify</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl run busybox --image=busybox --restart=Never --dry-run -o yaml -- /bin/sh -c <span style="color:#e6db74">&#34;sleep 3600&#34;</span> &gt; busybox.yml
kubectl create -f busybox.yml
// verify
kubectl describe po busybox

//busybox.yml

```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: busybox
  <span style="color:#66d9ef">name</span>: busybox
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">serviceAccountName</span>: admin
  <span style="color:#66d9ef">containers</span>:
    - <span style="color:#66d9ef">args</span>:
        - /bin/sh
        - -c
        - sleep <span style="color:#ae81ff">3600</span>
      <span style="color:#66d9ef">image</span>: busybox
      <span style="color:#66d9ef">name</span>: busybox
      <span style="color:#66d9ef">resources</span>: {}
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<h3 id="observability-18">Observability (18%)</h3>
<p>Practice questions based on these concepts</p>
<ul>
<li>Understand LivenessProbes and ReadinessProbes</li>
<li>Understand Container Logging</li>
<li>Understand how to monitor applications in kubernetes</li>
<li>Understand Debugging in Kubernetes</li>
</ul>
<p><strong>132. Create an nginx pod with containerPort 80 and it should only receive traffic only it checks the endpoint / on port 80 and verify and delete the pod.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl run nginx --image=nginx --restart=Never --port=<span style="color:#ae81ff">80</span> --dry-run -o yaml &gt; nginx-pod.yaml
// add the readinessProbe section and create
kubectl create -f nginx-pod.yaml
// verify
kubectl describe pod nginx | grep -i readiness
kubectl delete po nginx

//nginx-pod.yaml
```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
  - <span style="color:#66d9ef">image</span>: nginx
    <span style="color:#66d9ef">name</span>: nginx
    <span style="color:#66d9ef">ports</span>:
    - <span style="color:#66d9ef">containerPort</span>: <span style="color:#ae81ff">80</span>
    <span style="color:#66d9ef">readinessProbe</span>:
      <span style="color:#66d9ef">httpGet</span>:
        <span style="color:#66d9ef">path</span>: /
        <span style="color:#66d9ef">port</span>: <span style="color:#ae81ff">80</span>
    <span style="color:#66d9ef">resources</span>: {}
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>133. Create an nginx pod with containerPort 80 and it should check the pod running at endpoint / healthz on port 80 and verify and delete the pod.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl run nginx --image=nginx --restart=Never --port=<span style="color:#ae81ff">80</span> --dry-run -o yaml &gt; nginx-pod.yaml
// add the livenessProbe section and create
kubectl create -f nginx-pod.yaml
// verify
kubectl describe pod nginx | grep -i readiness
kubectl delete po nginx

//nginx-pod.yaml
```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
  - <span style="color:#66d9ef">image</span>: nginx
    <span style="color:#66d9ef">name</span>: nginx
    <span style="color:#66d9ef">ports</span>:
    - <span style="color:#66d9ef">containerPort</span>: <span style="color:#ae81ff">80</span>
    <span style="color:#66d9ef">livenessProbe</span>:
      <span style="color:#66d9ef">httpGet</span>:
        <span style="color:#66d9ef">path</span>: /healthz
        <span style="color:#66d9ef">port</span>: <span style="color:#ae81ff">80</span>
    <span style="color:#66d9ef">resources</span>: {}
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>134. Create an nginx pod with containerPort 80 and it should check the pod running at endpoint /healthz on port 80 and it should only receive traffic only it checks the endpoint / on port 80. verify the pod.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl run nginx --image=nginx --restart=Never --port=<span style="color:#ae81ff">80</span> --dry-run -o yaml &gt; nginx-pod.yaml
// add the livenessProbe and readiness section and create
kubectl create -f nginx-pod.yaml
// verify
kubectl describe pod nginx | grep -i readiness
kubectl describe pod nginx | grep -i liveness

//nginx-pod.yaml
```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
  - <span style="color:#66d9ef">image</span>: nginx
    <span style="color:#66d9ef">name</span>: nginx
    <span style="color:#66d9ef">ports</span>:
    - <span style="color:#66d9ef">containerPort</span>: <span style="color:#ae81ff">80</span>
    <span style="color:#66d9ef">livenessProbe</span>:
      <span style="color:#66d9ef">httpGet</span>:
        <span style="color:#66d9ef">path</span>: /healthz
        <span style="color:#66d9ef">port</span>: <span style="color:#ae81ff">80</span>
    <span style="color:#66d9ef">readinessProbe</span>:
      <span style="color:#66d9ef">httpGet</span>:
        <span style="color:#66d9ef">path</span>: /
        <span style="color:#66d9ef">port</span>: <span style="color:#ae81ff">80</span>
    <span style="color:#66d9ef">resources</span>: {}
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>135. Check what all are the options that we can configure with readiness and liveness probes</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl explain Pod.spec.containers.livenessProbe
kubectl explain Pod.spec.containers.readinessProbe</code></pre></div></p>
<p><strong>136. Create the pod nginx with the above liveness and readiness probes so that it should wait for 20 seconds before it checks liveness and readiness probes and it should check every 25 seconds.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl create -f nginx-pod.yaml

//nginx-pod.yaml
```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">run</span>: nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
  - <span style="color:#66d9ef">image</span>: nginx
    <span style="color:#66d9ef">name</span>: nginx
    <span style="color:#66d9ef">ports</span>:
    - <span style="color:#66d9ef">containerPort</span>: <span style="color:#ae81ff">80</span>
    <span style="color:#66d9ef">livenessProbe</span>:
      <span style="color:#66d9ef">initialDelaySeconds</span>: <span style="color:#ae81ff">20</span>
      <span style="color:#66d9ef">periodSeconds</span>: <span style="color:#ae81ff">25</span>
      <span style="color:#66d9ef">httpGet</span>:
        <span style="color:#66d9ef">path</span>: /healthz
        <span style="color:#66d9ef">port</span>: <span style="color:#ae81ff">80</span>
    <span style="color:#66d9ef">readinessProbe</span>:
      <span style="color:#66d9ef">initialDelaySeconds</span>: <span style="color:#ae81ff">20</span>
      <span style="color:#66d9ef">periodSeconds</span>: <span style="color:#ae81ff">25</span>
      <span style="color:#66d9ef">httpGet</span>:
        <span style="color:#66d9ef">path</span>: /
        <span style="color:#66d9ef">port</span>: <span style="color:#ae81ff">80</span>
    <span style="color:#66d9ef">resources</span>: {}
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>137. Create a busybox pod with this command “echo I am from busybox pod; sleep 3600;” and verify the logs.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl run busybox --image=busybox --restart=Never -- /bin/sh -c <span style="color:#e6db74">&#34;echo I am from busybox pod; sleep 3600;&#34;</span>
kubectl logs busybox</code></pre></div></p>
<p><strong>138. copy the logs of the above pod to the busybox-logs.txt and verify</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl logs busybox &gt; busybox-logs.txt
cat busybox-logs.txt</code></pre></div></p>
<p><strong>139. List all the events sorted by timestamp and put them into file.log and verify</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl get events --sort-by=.metadata.creationTimestamp
// putting them into file.log
kubectl get events --sort-by=.metadata.creationTimestamp &gt; file.log
cat file.log</code></pre></div></p>
<p><strong>140. Create a pod with an image alpine which executes this command ”while true; do echo ‘Hi I am from alpine’; sleep 5; done” and verify and follow the logs of the pod.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// create the pod
kubectl run hello --image=alpine --restart=Never  -- /bin/sh -c <span style="color:#e6db74">&#34;while true; do echo &#39;Hi I am from Alpine&#39;; sleep 5;done&#34;</span>
// verify and follow the logs
kubectl logs --follow hello</code></pre></div></p>
<p><strong>141. Create the pod with this kubectl create -f <a href="https://gist.githubusercontent.com/bbachi/212168375b39e36e2e2984c097167b00/raw/1fd63509c3ae3a3d3da844640fb4cca744543c1c/not-running.yml">https://gist.githubusercontent.com/bbachi/212168375b39e36e2e2984c097167b00/raw/1fd63509c3ae3a3d3da844640fb4cca744543c1c/not-running.yml</a>. The pod is not in the running state. Debug it.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// create the pod
kubectl create -f https://gist.githubusercontent.com/bbachi/212168375b39e36e2e2984c097167b00/raw/1fd63509c3ae3a3d3da844640fb4cca744543c1c/not-running.yml
// get the pod
kubectl get pod not-running
kubectl describe po not-running
// it clearly says ImagePullBackOff something wrong with image
kubectl edit pod not-running // it will open vim editor
                     or
kubectl set image pod/not-running not-running=nginx</code></pre></div></p>
<p><strong>142. This following yaml creates 4 namespaces and 4 pods. One of the pod in one of the namespaces are not in the running state. Debug and fix it. <a href="https://gist.githubusercontent.com/bbachi/1f001f10337234d46806929d12245397/raw/84b7295fb077f15de979fec5b3f7a13fc69c6d83/problem-pod.yaml">https://gist.githubusercontent.com/bbachi/1f001f10337234d46806929d12245397/raw/84b7295fb077f15de979fec5b3f7a13fc69c6d83/problem-pod.yaml</a>.
kubectl create -f <a href="https://gist.githubusercontent.com/bbachi/1f001f10337234d46806929d12245397/raw/84b7295fb077f15de979fec5b3f7a13fc69c6d83/problem-pod.yaml">https://gist.githubusercontent.com/bbachi/1f001f10337234d46806929d12245397/raw/84b7295fb077f15de979fec5b3f7a13fc69c6d83/problem-pod.yaml</a></strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// get all the pods in all namespaces
kubectl get po --all-namespaces
// find out which pod is not running
kubectl get po -n namespace2
// update the image
kubectl set image pod/pod2 pod2=nginx -n namespace2
// verify again
kubectl get po -n namespace2</code></pre></div></p>
<p><strong>143. Get the memory and CPU usage of all the pods and find out top 3 pods which have the highest usage and put them into the cpu-usage.txt file</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// get the top <span style="color:#ae81ff">3</span> hungry pods
kubectl top pod --all-namespaces | sort --reverse --key <span style="color:#ae81ff">3</span> --numeric | head -<span style="color:#ae81ff">3</span>
// putting into file
kubectl top pod --all-namespaces | sort --reverse --key <span style="color:#ae81ff">3</span> --numeric | head -<span style="color:#ae81ff">3</span> &gt; cpu-usage.txt
// verify
cat cpu-usage.txt</code></pre></div></p>
<h3 id="services-and-networking-13">Services and Networking (13%)</h3>
<p>Practice questions based on these concepts</p>
<ul>
<li>Understand Services</li>
<li>Demonstrate a basic understanding of NetworkPolicies</li>
</ul>
<p><strong>144. Create an nginx pod with a yaml file with label my-nginx and expose the port 80</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kubectl run nginx --image=nginx --restart=Never --port=<span style="color:#ae81ff">80</span> --dry-run -o yaml &gt; nginx.yaml
<span style="color:#66d9ef">// edit the label app</span>: my-nginx and create the pod
kubectl create -f nginx.yaml

//nginx.yaml
```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Pod
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">app</span>: my-nginx
  <span style="color:#66d9ef">name</span>: nginx
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">containers</span>:
  - <span style="color:#66d9ef">image</span>: nginx
    <span style="color:#66d9ef">name</span>: nginx
    <span style="color:#66d9ef">ports</span>:
    - <span style="color:#66d9ef">containerPort</span>: <span style="color:#ae81ff">80</span>
    <span style="color:#66d9ef">resources</span>: {}
  <span style="color:#66d9ef">dnsPolicy</span>: ClusterFirst
  <span style="color:#66d9ef">restartPolicy</span>: Never
<span style="color:#66d9ef">status</span>: {}
```</code></pre></div></p>
<p><strong>145. Create the service for this nginx pod with the pod selector app: my-nginx</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// create the below service
kubectl create -f nginx-svc.yaml

//nginx-svc.yaml
```yaml
<span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Service
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">name</span>: my-service
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">selector</span>:
    <span style="color:#66d9ef">app</span>: my-nginx
  <span style="color:#66d9ef">ports</span>:
    - <span style="color:#66d9ef">protocol</span>: TCP
      <span style="color:#66d9ef">port</span>: <span style="color:#ae81ff">80</span>
      <span style="color:#66d9ef">targetPort</span>: <span style="color:#ae81ff">9376</span>
      ```</code></pre></div></p>
<p><strong>146. Find out the label of the pod and verify the service has the same label</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// get the pod with labels
kubectl get po nginx --show-labels
// get the service and chekc the selector column
kubectl get svc my-service -o wide</code></pre></div></p>
<p><strong>147. Delete the service and create the service with kubectl expose command and verify the label</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// delete the service
kubectl delete svc my-service
// create the service again
kubectl expose po nginx --port=<span style="color:#ae81ff">80</span> --target-port=<span style="color:#ae81ff">9376</span>
// verify the label
kubectl get svc -l app=my-nginx</code></pre></div></p>
<p><strong>148. Delete the service and create the service again with type NodePort</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// delete the service
kubectl delete svc nginx
// create service with expose command
kubectl expose po nginx --port=<span style="color:#ae81ff">80</span> --type=NodePort</code></pre></div></p>
<p><strong>149. Create the temporary busybox pod and hit the service. Verify the service that it should return the nginx page index.html.</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">// get the clusterIP from this command
kubectl get svc nginx -o wide
// create temporary busybox to check the nodeport
kubectl run busybox --image=busybox --restart=Never -it --rm -- wget -o- &lt;Cluster IP&gt;:<span style="color:#ae81ff">80</span></code></pre></div></p>
<p><strong>150. Create a NetworkPolicy which denies all ingress traffic</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">```yaml
<span style="color:#66d9ef">apiVersion</span>: networking.k8s.io/v1
<span style="color:#66d9ef">kind</span>: NetworkPolicy
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">name</span>: default-deny
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">podSelector</span>: {}
  <span style="color:#66d9ef">policyTypes</span>:
  - Ingress
  ```
 </code></pre></div></p>
<h3 id="conclusion">Conclusion</h3>
<p>CKAD is a performance-based exam and it’s all about completing 19 questions within 2 hours. We need a lot of practice for it. These 150 questions give you enough practice for the exam. The more you practice the more comfortable you feel during the exam. Practice. Practice. Practice.</p>
<pre><code></code></pre>
        </div>
        <div class="sharedaddy sd-sharing-enabled">
    <div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing">
        <h3 class="sd-title">Share this:</h3>
        <div class="sd-content">
            <ul>
                <li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-1144" class="share-twitter sd-button share-icon no-text" href="https://twitter.com/intent/tweet?status=Kubernetes%20practice%20questions%20for%20CKAD%20exam%20%3f-https%3a%2f%2fdevops-monk.com%2f2020%2f07%2fkubernetes-practice-ckad-exam%2f" target="_blank" title="Click to share on Twitter"><span></span><span class="sharing-screen-reader-text">Click to share on Twitter (Opens in new window)</span></a></li>
                <li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-1144" class="share-facebook sd-button share-icon no-text" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fdevops-monk.com%2f2020%2f07%2fkubernetes-practice-ckad-exam%2f" target="_blank" title="Click to share on Facebook"><span></span><span class="sharing-screen-reader-text">Click to share on Facebook (Opens in new window)</span></a></li>
                <li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-1144" class="share-google-plus-1 sd-button share-icon no-text" href="https://plus.google.com/share?url=https%3a%2f%2fdevops-monk.com%2f2020%2f07%2fkubernetes-practice-ckad-exam%2f" target="_blank" title="Click to share on Google+"><span></span><span class="sharing-screen-reader-text">Click to share on Google+ (Opens in new window)</span></a></li>
                <li class="share-reddit"><a rel="nofollow" data-shared="" class="share-reddit sd-button share-icon no-text" href="http://www.reddit.com/submit?url=https%3a%2f%2fdevops-monk.com%2f2020%2f07%2fkubernetes-practice-ckad-exam%2f&title=Kubernetes%20practice%20questions%20for%20CKAD%20exam%20%3f" target="_blank" title="Click to share on Reddit"><span></span><span class="sharing-screen-reader-text">Click to share on Reddit (Opens in new window)</span></a></li>
                <li class="share-linkedin"><a rel="nofollow" data-shared="sharing-linkedin-1144" class="share-linkedin sd-button share-icon no-text" href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fdevops-monk.com%2f2020%2f07%2fkubernetes-practice-ckad-exam%2f&title=Kubernetes%20practice%20questions%20for%20CKAD%20exam%20%3f" target="_blank" title="Click to share on LinkedIn"><span></span><span class="sharing-screen-reader-text">Click to share on LinkedIn (Opens in new window)</span></a></li>
                <li class="share-end"></li>
            </ul>
        </div>
    </div>
</div>

    </div>
</article>




<nav class="navigation post-navigation" role="navigation">
	<h2 class="screen-reader-text">Post navigation</h2>
	<div class="nav-links">
		<div class="nav-previous">
			<a href="/2020/07/hashicorp-certified-terraform-associate/" rel="next">
				<i class="fa fa-chevron-left"></i>
				<span class="post-title">HashiCorp Certified Terraform Associate</span>
			</a>
		</div>
		<div class="nav-next">
			<a href="/2020/07/how-to-enable-ssh-on-ubuntu/" rel="prev">
                <span class="post-title">How to Enable SSH on Ubuntu ?
                    <i class="fa fa-chevron-right"></i>
                </span>
			</a>
		</div>
	</div>
</nav>

</main>

        </section>

        <section
          id="secondary"
          class="sidebar widget-area clearfix"
          role="complementary"
        >
          
<aside id="zoom-social-icons-widget-2" class="widget zoom-social-icons-widget">
  <h3 class="widget-title">Follow Me</h3>

  <ul
    class="zoom-social-icons-list zoom-social-icons-list--with-canvas zoom-social-icons-list--rounded zoom-social-icons-list--no-labels"
  >
    
    <li class="zoom-social_icons-list__item">
      <a
        class="zoom-social_icons-list__link"
        href="https://github.com/abhi15sep"
        target="_blank"
      >
        <span
          class="zoom-social_icons-list-span socicon socicon-github"
          data-hover-rule="background-color"
          data-hover-color="#221e1b"
        ></span>
      </a>
    </li>
     
    <li class="zoom-social_icons-list__item">
      <a
        class="zoom-social_icons-list__link"
        href="https://in.linkedin.com/in/abhay-singh-831997b5"
        target="_blank"
      >
        <span
          class="zoom-social_icons-list-span socicon socicon-linkedin"
          data-hover-rule="background-color"
          data-hover-color="#3371b7"
        ></span>
      </a>
    </li>

     
    <li class="zoom-social_icons-list__item">
      <a
        class="zoom-social_icons-list__link"
        href="http://www.youtube.com/c/"
        target="_blank"
      >
        <span
          class="zoom-social_icons-list-span socicon socicon-youtube"
          data-hover-rule="background-color"
          data-hover-color="#e02a20"
        ></span>
      </a>
    </li>
    
  </ul>
</aside>



<aside id="recent-posts-2" class="widget widget_recent_entries clearfix">
    <div class="widget-header">
        <h3 class="widget-title">Recent Posts</h3>
    </div>
    <ul>
        <li class="widget__item"><a class="widget__link" href="/2020/09/getting-started-with-chartmuseusm/">Getting Started With ChartMuseusm</a></li>
        <li class="widget__item"><a class="widget__link" href="/2020/09/getting-started-with-helm3/">Getting Started With Helm 3</a></li>
        <li class="widget__item"><a class="widget__link" href="/2020/07/hashicorp-certified-terraform-associate/">HashiCorp Certified Terraform Associate</a></li>
        <li class="widget__item"><a class="widget__link" href="/2020/07/kubernetes-practice-ckad-exam/">Kubernetes practice questions for CKAD exam ?</a></li>
        <li class="widget__item"><a class="widget__link" href="/2020/07/how-to-enable-ssh-on-ubuntu/">How to Enable SSH on Ubuntu ?</a></li>
    </ul>

</aside>

<aside id="top-posts-2" class="widget widget_top-posts clearfix">
    <div class="widget-header"><h3 class="widget-title">Top Posts &amp; Pages</h3></div>
    <ul>

       <li>
            <a href="/2020/07/kubernetes-practice-ckad-exam/"
            class="bump-view" data-bump-view="tp">
            Kubernetes practice questions for CKAD exam ?</a>
        </li>

        <li>
            <a href="/2020/07/hashicorp-certified-terraform-associate/"
            class="bump-view" data-bump-view="tp">
            HashiCorp Certified Terraform Associate</a>
        </li>

         
</ul>
</aside>

<aside id="categories-2" class="widget widget_categories clearfix">
    <div class="widget-header"><h3 class="widget-title">Categories</h3></div>
    <ul>
        <li class="cat-item"><a href="/categories/devops">Devops</a></li>
        <li class="cat-item"><a href="/categories/linux">Linux</a></li>
    </ul>
</aside>


<aside id="tag_cloud-3" class="widget widget_tag_cloud clearfix">
    <div class="widget-header"><h3 class="widget-title">Tags</h3></div>
    <div class="tagcloud">

        <div class="widget__content">
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/ckad" title="ckad">ckad</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/devops" title="devops">devops</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/helm" title="helm">helm</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/iac" title="iac">iac</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/orchestration" title="orchestration">orchestration</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/ssh" title="ssh">ssh</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/terraform" title="terraform">terraform</a>
        </div>
    </div>
</aside>
        </section>
      </div>
      <div id="footer" class="footer-wrap">
        <footer id="colophon" class="site-footer container clearfix" role="contentinfo">
    <div id="footer-text" class="site-info">
        <span class="credit-link">
            <a href="/" target="_blank">Devops Monk</a>
            Copyright © 2020
        </span>
    </div>
</footer>
      </div>
    </div>
  </body>
</html>

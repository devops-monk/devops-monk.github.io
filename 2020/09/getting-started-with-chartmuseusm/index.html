<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
  <head>
    
    
    <div class="analytics">
        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-177375543-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    </div>
    
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" property="title" content="Devops Monk - Getting Started With ChartMuseusm">
    <meta name="description" property="description" content=" - " >
    <title>Devops Monk - Getting Started With ChartMuseusm </title>
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Getting Started With ChartMuseusm"/>
<meta name="twitter:description" content="1.Chart Repositories:  An HTTP server hosting index.yaml file along with chart packages. - Indented item When charts are ready, can be uploaded to server and shared. Multiple charts with dependency and version can be managed Can be managed like source control system in a common location. Can be hosted as part of:  Google compute cloud bucket AWS S3 bucket Github pages Own webserver (chartmuseum)    2.Why ChartMuseum ?"/>

    <meta property="og:title" content="Getting Started With ChartMuseusm" />
<meta property="og:description" content="1.Chart Repositories:  An HTTP server hosting index.yaml file along with chart packages. - Indented item When charts are ready, can be uploaded to server and shared. Multiple charts with dependency and version can be managed Can be managed like source control system in a common location. Can be hosted as part of:  Google compute cloud bucket AWS S3 bucket Github pages Own webserver (chartmuseum)    2.Why ChartMuseum ?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://devops-monk.com/2020/09/getting-started-with-chartmuseusm/" />
<meta property="article:published_time" content="2020-09-05T02:05:05+00:00" />
<meta property="article:modified_time" content="2020-09-05T02:05:05+00:00" />

    <meta itemprop="name" content="Getting Started With ChartMuseusm">
<meta itemprop="description" content="1.Chart Repositories:  An HTTP server hosting index.yaml file along with chart packages. - Indented item When charts are ready, can be uploaded to server and shared. Multiple charts with dependency and version can be managed Can be managed like source control system in a common location. Can be hosted as part of:  Google compute cloud bucket AWS S3 bucket Github pages Own webserver (chartmuseum)    2.Why ChartMuseum ?">
<meta itemprop="datePublished" content="2020-09-05T02:05:05+00:00" />
<meta itemprop="dateModified" content="2020-09-05T02:05:05+00:00" />
<meta itemprop="wordCount" content="704">



<meta itemprop="keywords" content="Helm,Devops," />


    <link rel='stylesheet' href="/assets/css/custom-fonts.css" type='text/css' media='all'/>

    <link rel='stylesheet' href="/assets/css/style.css" type='text/css' media='all'/>
    <link rel='stylesheet' href="/assets/css/genericons.css" type='text/css' media='all'/>
    <link rel='stylesheet' href="/assets/css/font-awesome.min.css" type='text/css' media='all'/>
    <link rel='stylesheet' href="/assets/css/socicon.css" type='text/css' media='all'/>
    <link rel="stylesheet" href="/assets/css/social-logos/social-logos.css" type="text/css" media="all">
    <link rel='stylesheet' href="/assets/css/jetpack.css" type='text/css' media='all'/>
    <link rel='stylesheet' href="/assets/css/custom-styles.css" type='text/css' media='all'/>

    <script type='text/javascript' src="/assets/js/jquery-1.12.4.min.js"></script>
    <script type='text/javascript' src="/assets/js/html5shiv.min.js"></script>
    <script type='text/javascript' src="/assets/js/navigation.js"></script>

    <link rel="shortcut icon" href="/favicon.png" type="image/x-icon" />
    
</head>
  <body
    class="home blog logged-in admin-bar no-customize-support post-layout-one-column"
  >
    <div id="header-top" class="header-bar-wrap"></div>
    <div id="page" class="hfeed site">
      <a class="skip-link screen-reader-text" href="#content"
        >Skip to content</a
      >
      <header id="masthead" class="site-header clearfix" role="banner">
    <div class="header-main container clearfix">
        <div id="logo" class="site-branding clearfix">
            <h1 class="site-title">
                <a href="/">
                    <img src="/favicon.png" alt="Devops-Monk Logo" width="54" height="54" style="float:left;padding-top: 10px";>
                </a> 
                <a href="/" title="Devops Monk" rel="home">Devops Monk</a>
            </h1>
            <p class="site-description">My Devops Learning Experience</p>
        </div>
        <div class="header-widgets clearfix">
        </div>
    </div>
    <div id="main-navigation-wrap" class="primary-navigation-wrap">
        <nav id="main-navigation" class="primary-navigation navigation container clearfix" role="navigation">
            <ul id="menu-home" class="main-navigation-menu">
                <li id="menu-item-1145" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home menu-item-1145">
                    <a href="/">Home</a>
                </li>
     
                </li>
                <li id="menu-item-1146" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1146">
                    <a href="/contact">Contact</a>
                </li>
            </ul>
        </nav>
    </div>
</header>
      <div id="content" class="site-content container clearfix">
        <section id="primary" class="content-archive content-area">
          
<main id="main" class="site-main" role="main">
<article class="post type-post status-publish format-standard hentry">
    <div class="post-inner-content">
        <header class="entry-header">
    <div class="entry-meta">
        <span class="meta-date">
            <a href="https://devops-monk.com/2020/09/getting-started-with-chartmuseusm/" rel="bookmark">
                <time class="entry-date published" datetime="2020-09-05T02:05:05">
                September 05, 2020
                </time>
            </a>
        </span>
        <span class="meta-author">
            <span class="author vcard">Abhay</span>
        </span>
    </div>
    <h2 class="entry-title">
        <a href="https://devops-monk.com/2020/09/getting-started-with-chartmuseusm/" rel="bookmark">
            Getting Started With ChartMuseusm
        </a>
    </h2>
    <div>
        
        
        
        <span class="tagcloud post-tags">
            <i class="fa fa-tags"></i>
            
            <a class="tag-cloud-link widget__link widget__link--taglist" href="/tags/helm/">Helm</a>
            &nbsp;
            
            <a class="tag-cloud-link widget__link widget__link--taglist" href="/tags/devops/">Devops</a>
            
            
        </span>
        
        
    </div>
</header>

        <div class="entry-content">
            <h2 id="1chart-repositories">1.Chart Repositories:</h2>
<ul>
<li>An HTTP server hosting index.yaml file along with chart packages. - Indented item</li>
<li>When charts are ready, can be uploaded to server and shared.</li>
<li>Multiple charts with dependency and version can be managed</li>
<li>Can be managed like source control system in a common location.</li>
<li>Can be hosted as part of:
<ol>
<li>Google compute cloud bucket</li>
<li>AWS S3 bucket</li>
<li>Github pages</li>
<li>Own webserver (chartmuseum)</li>
</ol>
</li>
</ul>
<h2 id="2why-chartmuseum-">2.Why ChartMuseum ?</h2>
<ul>
<li>Easily distribute your charts across different deployment pipelines or repositories.</li>
<li>It exposes API’s for chart manipulation.</li>
<li>Reduces maintenance as you can share charts or templates easily.</li>
<li>Requires almost no effort to set up over kubernetes.</li>
<li>Supports backend for multiple clouds e.g. AWS S3.</li>
</ul>
<blockquote>
<p>This Article will focus on local file system storage. To deploy it over cloud follow this <a href="https://chartmuseum.com/docs/#installing-chartsinto-kubernetes">link</a>.</p>
</blockquote>
<h2 id="3chartmuseum-installation">3.Chartmuseum Installation:</h2>
<p>Please refer <a href="https://chartmuseum.com/docs/#installing-chartsinto-kubernetes">installation guide</a> for your OS.</p>
<p>First we need to set up ChartMuseum and upload our chart to it. Let’s follow the steps below for setting it up.</p>
<ul>
<li>Download the binary by using the link below or you can always download a specific release from their <a href="https://github.com/kubernetes-helm/chartmuseum/releases">github</a></li>
<li>Make the binary executable by running <strong><!-- raw HTML omitted -->chmod +x chartmuseum<!-- raw HTML omitted --></strong></li>
<li>Move the binary to your bin location</li>
<li>Verify that it is installed by running <strong><!-- raw HTML omitted -->chartmuseum &ndash;version<!-- raw HTML omitted --></strong></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">curl -LO https://s3.amazonaws.com/chartmuseum/release/latest/bin/linux/amd64/chartmuseum
chmod +x ./chartmuseum
mv ./chartmuseum /usr/local/bin
chartmuseum --version
chartmuseum --help
</code></pre></div><p>Now that ChartMuseum is installed, we will configure a local storage backend for it.</p>
<ul>
<li>Replace <strong><!-- raw HTML omitted -->chart-dir<!-- raw HTML omitted --></strong> and <strong><!-- raw HTML omitted -->port<!-- raw HTML omitted --></strong> in the following command and run it on a terminal</li>
<li>ChartMuseum will use <strong><!-- raw HTML omitted -->chart-dir<!-- raw HTML omitted --></strong> for its storage</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">chartmuseum --port=&lt;port&gt; --storage=&#34;local&#34; --storage-local-rootdir=&#34;&lt;chart-dir&gt;&#34;

Example:
  chartmuseum --debug --port=8080 --storage=&#34;local&#34; --storage-local-rootdir=&#34;./chartstorage&#34;
</code></pre></div><ul>
<li>You will see ChartMuseum showing that it is starting on the specified port</li>
</ul>
<h2 id="4configuring-chartmuseum-with-helm">4.Configuring ChartMuseum with Helm</h2>
<p>In order for helm to fetch and install charts from ChartMuseum, you will first need to add ChartMuseum to helm as a repository. You can do that by following the steps below</p>
<ul>
<li>Run <strong>helm repo add mychartmuseum http://localhost:8080</strong></li>
<li>Here <strong>mychartmuseum</strong> will act as a repository name and http://localhost:8080 will be the url where chartmuseum is running</li>
<li>Now you can run <strong>helm repo update</strong> and it will fetch chart metadata from ChartMuseum as well</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">helm repo list
helm repo add mychartmuseum http://localhost:8080
helm repo list
helm search repo nginx
helm search repo mychartmuseum
helm search repo stable
</code></pre></div><h2 id="5uploading-your-custom-chart-to-chartmuseum">5.Uploading your custom chart to ChartMuseum</h2>
<p>Now that ChartMuseum is up and running on your specified port, let’s move on to uploading your custom chart. For our demo we’ll be using a custom nginx chart located <a href="https://github.com/devops-monk/helm-nginx-nodeport-chart">here</a>.
If you want to follow along, simply clone the repository above and open up a terminal in that directory.
The demo chart contains a directory named devopsmonk-webapp, inside which is its chart. Let’s follow the steps below to upload the chart to ChartMuseum.</p>
<ul>
<li>Navigate to the cloned repository and go to <strong>devopsmonk-webapp</strong> directory</li>
<li>Run <strong>helm lint</strong> to verify that the chart has no compile time errors</li>
<li>Run <strong>helm package devopsmonk-webapp/</strong> to package the chart into a file. The packaged name of the chart will be <strong>helm-webapp-0.1.0.tgz</strong>, where <strong>helm-webapp</strong> is the name of the chart and <strong>0.1.0</strong> is the chart version</li>
<li>Once we have the packaged chart, we can upload it to ChartMuseum by sending a post request via curl to CM (assuming CM is running on port 8080).</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">git clone https://github.com/devops-monk/helm-nginx-nodeport-chart.git
helm lint devopsmonk-webapp
helm package devopsmonk-webapp/
curl --data-binary &#34;@helm-webapp-0.1.0.tgz&#34; http://localhost:8080/api/charts
helm repo list
helm search repo mychartmuseum
helm repo update
helm search repo mychartmuseum

</code></pre></div><h2 id="6maintain-chart-version">6.Maintain chart Version</h2>
<p>Update the minor version in Chart.yaml file to &ldquo;0.2.0&rdquo; and upload chart to museum.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">cd devopsmonk-webapp
sudo vi Chart.yaml
helm lint
cd ..
helm package devopsmonk-webapp/
curl --data-binary &#34;@helm-webapp-0.2.0.tgz&#34; http://localhost:8080/api/charts
helm repo update
helm search repo mychartmuseum
helm search repo -l mychartmuseum
</code></pre></div><h2 id="7installing-your-custom-chart">7.Installing your Custom Chart</h2>
<p>At this point you’ve accomplished the following things:</p>
<ul>
<li>Install and Configure ChartMuseum</li>
<li>Add ChartMuseum as a Repository in Helm</li>
<li>Upload your custom chart to ChartMuseum</li>
</ul>
<p>Now all you have to do is to install the custom chart via Helm. For that follow the steps below</p>
<ul>
<li>Install your chart by running <strong>helm install demo-nginx mychartmuseum/helm-webapp</strong> and that’s it.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">helm ls
helm install demo-nginx mychartmuseum/helm-webapp
</code></pre></div><p>You’ve successfully installed your custom chart on your kubernetes cluster. You just have to upload all your custom charts to ChartMuseum now and install them via helm.</p>

        </div>
        <div class="sharedaddy sd-sharing-enabled">
    <div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing">
        <h3 class="sd-title">Share this:</h3>
        <div class="sd-content">
            <ul>
                <li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-1144" class="share-twitter sd-button share-icon no-text" href="https://twitter.com/intent/tweet?status=Getting%20Started%20With%20ChartMuseusm-https%3a%2f%2fdevops-monk.com%2f2020%2f09%2fgetting-started-with-chartmuseusm%2f" target="_blank" title="Click to share on Twitter"><span></span><span class="sharing-screen-reader-text">Click to share on Twitter (Opens in new window)</span></a></li>
                <li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-1144" class="share-facebook sd-button share-icon no-text" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fdevops-monk.com%2f2020%2f09%2fgetting-started-with-chartmuseusm%2f" target="_blank" title="Click to share on Facebook"><span></span><span class="sharing-screen-reader-text">Click to share on Facebook (Opens in new window)</span></a></li>
                <li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-1144" class="share-google-plus-1 sd-button share-icon no-text" href="https://plus.google.com/share?url=https%3a%2f%2fdevops-monk.com%2f2020%2f09%2fgetting-started-with-chartmuseusm%2f" target="_blank" title="Click to share on Google+"><span></span><span class="sharing-screen-reader-text">Click to share on Google+ (Opens in new window)</span></a></li>
                <li class="share-reddit"><a rel="nofollow" data-shared="" class="share-reddit sd-button share-icon no-text" href="http://www.reddit.com/submit?url=https%3a%2f%2fdevops-monk.com%2f2020%2f09%2fgetting-started-with-chartmuseusm%2f&title=Getting%20Started%20With%20ChartMuseusm" target="_blank" title="Click to share on Reddit"><span></span><span class="sharing-screen-reader-text">Click to share on Reddit (Opens in new window)</span></a></li>
                <li class="share-linkedin"><a rel="nofollow" data-shared="sharing-linkedin-1144" class="share-linkedin sd-button share-icon no-text" href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fdevops-monk.com%2f2020%2f09%2fgetting-started-with-chartmuseusm%2f&title=Getting%20Started%20With%20ChartMuseusm" target="_blank" title="Click to share on LinkedIn"><span></span><span class="sharing-screen-reader-text">Click to share on LinkedIn (Opens in new window)</span></a></li>
                <li class="share-end"></li>
            </ul>
        </div>
    </div>
</div>

    </div>
</article>




<nav class="navigation post-navigation" role="navigation">
	<h2 class="screen-reader-text">Post navigation</h2>
	<div class="nav-links">
		<div class="nav-next">
			<a href="/2020/09/getting-started-with-helm3/" rel="prev">
                <span class="post-title">Getting Started With Helm 3
                    <i class="fa fa-chevron-right"></i>
                </span>
			</a>
		</div>
	</div>
</nav>

</main>

        </section>

        <section
          id="secondary"
          class="sidebar widget-area clearfix"
          role="complementary"
        >
          
<aside id="zoom-social-icons-widget-2" class="widget zoom-social-icons-widget">
  <h3 class="widget-title">Follow Me</h3>

  <ul
    class="zoom-social-icons-list zoom-social-icons-list--with-canvas zoom-social-icons-list--rounded zoom-social-icons-list--no-labels"
  >
    
    <li class="zoom-social_icons-list__item">
      <a
        class="zoom-social_icons-list__link"
        href="https://github.com/abhi15sep"
        target="_blank"
      >
        <span
          class="zoom-social_icons-list-span socicon socicon-github"
          data-hover-rule="background-color"
          data-hover-color="#221e1b"
        ></span>
      </a>
    </li>
     
    <li class="zoom-social_icons-list__item">
      <a
        class="zoom-social_icons-list__link"
        href="https://in.linkedin.com/in/abhay-singh-831997b5"
        target="_blank"
      >
        <span
          class="zoom-social_icons-list-span socicon socicon-linkedin"
          data-hover-rule="background-color"
          data-hover-color="#3371b7"
        ></span>
      </a>
    </li>

     
    <li class="zoom-social_icons-list__item">
      <a
        class="zoom-social_icons-list__link"
        href="http://www.youtube.com/c/"
        target="_blank"
      >
        <span
          class="zoom-social_icons-list-span socicon socicon-youtube"
          data-hover-rule="background-color"
          data-hover-color="#e02a20"
        ></span>
      </a>
    </li>
    
  </ul>
</aside>



<aside id="recent-posts-2" class="widget widget_recent_entries clearfix">
    <div class="widget-header">
        <h3 class="widget-title">Recent Posts</h3>
    </div>
    <ul>
        <li class="widget__item"><a class="widget__link" href="/2020/09/getting-started-with-chartmuseusm/">Getting Started With ChartMuseusm</a></li>
        <li class="widget__item"><a class="widget__link" href="/2020/09/getting-started-with-helm3/">Getting Started With Helm 3</a></li>
        <li class="widget__item"><a class="widget__link" href="/2020/07/hashicorp-certified-terraform-associate/">HashiCorp Certified Terraform Associate</a></li>
        <li class="widget__item"><a class="widget__link" href="/2020/07/kubernetes-practice-ckad-exam/">Kubernetes practice questions for CKAD exam ?</a></li>
        <li class="widget__item"><a class="widget__link" href="/2020/07/how-to-enable-ssh-on-ubuntu/">How to Enable SSH on Ubuntu ?</a></li>
    </ul>

</aside>

<aside id="top-posts-2" class="widget widget_top-posts clearfix">
    <div class="widget-header"><h3 class="widget-title">Top Posts &amp; Pages</h3></div>
    <ul>

       <li>
            <a href="/2020/07/kubernetes-practice-ckad-exam/"
            class="bump-view" data-bump-view="tp">
            Kubernetes practice questions for CKAD exam ?</a>
        </li>

        <li>
            <a href="/2020/07/hashicorp-certified-terraform-associate/"
            class="bump-view" data-bump-view="tp">
            HashiCorp Certified Terraform Associate</a>
        </li>

         
</ul>
</aside>

<aside id="categories-2" class="widget widget_categories clearfix">
    <div class="widget-header"><h3 class="widget-title">Categories</h3></div>
    <ul>
        <li class="cat-item"><a href="/categories/devops">Devops</a></li>
        <li class="cat-item"><a href="/categories/linux">Linux</a></li>
    </ul>
</aside>


<aside id="tag_cloud-3" class="widget widget_tag_cloud clearfix">
    <div class="widget-header"><h3 class="widget-title">Tags</h3></div>
    <div class="tagcloud">

        <div class="widget__content">
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/ckad" title="ckad">ckad</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/devops" title="devops">devops</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/helm" title="helm">helm</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/iac" title="iac">iac</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/orchestration" title="orchestration">orchestration</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/ssh" title="ssh">ssh</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/terraform" title="terraform">terraform</a>
        </div>
    </div>
</aside>
        </section>
      </div>
      <div id="footer" class="footer-wrap">
        <footer id="colophon" class="site-footer container clearfix" role="contentinfo">
    <div id="footer-text" class="site-info">
        <span class="credit-link">
            <a href="/" target="_blank">Devops Monk</a>
            Copyright © 2020
        </span>
    </div>
</footer>
      </div>
    </div>
  </body>
</html>
